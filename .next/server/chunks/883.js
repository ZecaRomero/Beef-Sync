exports.id=883,exports.ids=[883],exports.modules={883:(e,a,s)=>{"use strict";s.d(a,{Z:()=>components_ReproductionManager});var t={};s.r(t);var r={};s.r(r);var l=s(997),o=s(6689),d=s(794),i=s(4491),n=s(3777);let Alert=({children:e,className:a="",...s})=>l.jsx("div",{className:`relative w-full rounded-lg border p-4 text-gray-900 ${a}`,...s,children:e}),AlertDescription=({children:e,className:a="",...s})=>l.jsx("div",{className:`text-sm text-gray-900 font-medium ${a}`,...s,children:e});var c=s(5837),x=s(6244);let ReproductionService=class ReproductionService{constructor(){this.processes=[],this.costs={coleta:800,fiv:1200,te:600,dg:150,sexagem:200,receptora:2500,frete:300,veterinario:400,laboratorio:500}}saveToStorage(){}loadFromStorage(){try{return[]}catch(e){return console.error("Erro ao carregar dados do localStorage:",e),[]}}createProcess(e){let a={id:Date.now(),created:new Date().toISOString(),status:"coleta",custoTotal:0,custoRealizado:0,lucroEstimado:0,...e,faseColeta:null,faseFIV:null,faseTE:null,faseDG:null,faseSexagem:null,faseEntrega:null};return this.processes.push(a),this.saveToStorage(),a}updateProcess(e,a,s){let t=this.processes.findIndex(a=>a.id===e);return -1===t?null:(this.processes[t][a]=s,this.calculateCosts(e),this.autoCreateNextPhase(e,a),this.saveToStorage(),this.processes[t])}calculateCosts(e){let a=this.processes.find(a=>a.id===e);if(!a)return;let s=0,t=0;if(a.faseColeta?.realizada&&(t+=this.costs.coleta+this.costs.veterinario),a.faseFIV?.realizada&&(t+=this.costs.fiv+this.costs.laboratorio),a.faseTE?.realizada&&(t+=this.costs.te+this.costs.veterinario),a.faseDG?.realizada&&(t+=this.costs.dg+this.costs.veterinario),a.faseSexagem?.realizada&&(t+=this.costs.sexagem),a.faseEntrega?.receptoras&&a.faseEntrega.receptoras.forEach(e=>{e.valorReceptora?t+=parseFloat(e.valorReceptora)||0:t+=this.costs.receptora,t+=parseFloat(e.valorFrete)||this.costs.frete}),s=t,!a.faseEntrega?.realizada){let e=parseInt(a.faseFIV?.quantidadeEmbrioes)||1;s+=Math.min(e,10)*(this.costs.receptora+this.costs.frete)}let r=this.calculateEstimatedRevenue(a),l=r-s;a.custoTotal=s,a.custoRealizado=t,a.lucroEstimado=l}calculateEstimatedRevenue(e){let a=0;return Math.floor(2100*(e.faseFIV?.totalEmbrioes?e.faseFIV.totalEmbrioes:e.faseFIV?.resultadosFIV?e.faseFIV.resultadosFIV.reduce((e,a)=>e+(parseInt(a.quantidadeEmbrioes)||0),0):1))}autoCreateNextPhase(e,a){let s=this.processes.find(a=>a.id===e);if(s)switch(a){case"faseColeta":if(s.faseColeta?.realizada&&!s.faseFIV&&s.faseColeta?.doadoras){let e=new Date(s.faseColeta.data);e.setDate(e.getDate()+1);let a=s.faseColeta.doadoras.map(e=>({doadoraNome:e.nome,touroAcasalamento:e.touroAcasalamento,quantidadeOocitos:e.quantidadeOocitos,quantidadeEmbrioes:"",observacoes:""}));s.faseFIV={data:e.toISOString().split("T")[0],laboratorio:"",veterinario:"",resultadosFIV:a,realizada:!1}}break;case"faseFIV":if(s.faseFIV?.realizada&&!s.faseTE){let e=new Date(s.faseColeta.data);e.setDate(e.getDate()+7);let a=s.faseFIV.totalEmbrioes||s.faseFIV.resultadosFIV?.reduce((e,a)=>e+(parseInt(a.quantidadeEmbrioes)||0),0)||1;s.faseTE={data:e.toISOString().split("T")[0],local:"",receptoras:this.generateReceptoras(a),veterinario:"",observacoes:"",realizada:!1}}break;case"faseTE":if(s.faseTE?.realizada&&!s.faseDG){let e=new Date(s.faseTE.data);e.setDate(e.getDate()+30),s.faseDG={data:e.toISOString().split("T")[0],receptoras:s.faseTE.receptoras.map(e=>({...e,resultado:"",dataRealizada:""})),veterinario:"",observacoes:"",realizada:!1}}break;case"faseDG":if(s.faseDG?.realizada){let e=s.faseDG.receptoras.filter(e=>"prenha"===e.resultado);if(e.length>0&&!s.faseSexagem&&(s.faseSexagem={data:"",receptoras:e.map(e=>({...e,sexo:"",previsaoParto:this.calculatePartoDate(s.faseTE.data)})),realizada:!1}),e.length>0&&!s.faseEntrega){let a=new Date;a.setDate(a.getDate()+2),s.faseEntrega={data:a.toISOString().split("T")[0],receptoras:e.map(e=>({...e,frente:"",dataEntrega:"",motorista:"",notaFiscal:"",valorReceptora:this.costs.receptora,valorFrete:this.costs.frete})),realizada:!1}}}}}generateReceptoras(e){let a=[];for(let s=0;s<e;s++)a.push({codigo:`RPT${String(Date.now()+s).slice(-4)}`,status:"ativa"});return a}calculatePartoDate(e){let a=new Date(e);return a.setMonth(a.getMonth()+9),a.toISOString().split("T")[0]}getAlerts(){let e=new Date,a=[];return this.processes.forEach(s=>{if(s.faseTE?.realizada&&!s.faseDG?.realizada){let t=new Date(s.faseTE.data);t.setDate(t.getDate()+30);let r=Math.ceil((t-e)/864e5);r<=3&&r>=0&&a.push({id:s.id,type:"DG",priority:0===r?"high":"medium",message:`DG da doadora ${s.faseColeta?.doadora} ${0===r?"deve ser feito HOJE":`em ${r} dias`}`,date:t,cost:this.costs.dg+this.costs.veterinario})}if(s.faseSexagem?.receptoras&&s.faseSexagem.receptoras.forEach(t=>{if(t.previsaoParto){let r=new Date(t.previsaoParto),l=Math.ceil((r-e)/864e5);l<=30&&l>=0&&a.push({id:s.id,type:"PARTO",priority:l<=7?"high":"medium",message:`Parto da receptora ${t.codigo} previsto para ${l} dias`,date:r,receptora:t.codigo})}}),s.faseEntrega&&!s.faseEntrega.realizada){let t=new Date(s.faseEntrega.data),r=Math.ceil((t-e)/864e5);r<=1&&r>=0&&a.push({id:s.id,type:"ENTREGA",priority:"high",message:`Entrega das receptoras deve ser feita ${0===r?"HOJE":"amanh\xe3"}`,date:t})}}),a.sort((e,a)=>"high"===e.priority&&"high"!==a.priority?-1:"high"===a.priority&&"high"!==e.priority?1:new Date(e.date)-new Date(a.date))}getFinancialReport(){let e={totalProcessos:this.processes.length,processosAtivos:this.processes.filter(e=>!e.faseEntrega?.realizada).length,custoTotalRealizado:0,custoTotalEstimado:0,lucroEstimado:0,receptorasAtivas:0,bezerrosEsperados:0};return this.processes.forEach(a=>{if(e.custoTotalRealizado+=a.custoRealizado||0,e.custoTotalEstimado+=a.custoTotal||0,e.lucroEstimado+=a.lucroEstimado||0,a.faseDG?.receptoras){let s=a.faseDG.receptoras.filter(e=>"prenha"===e.resultado);e.receptorasAtivas+=s.length,e.bezerrosEsperados+=s.length}}),e}getAllProcesses(){return this.processes}getProcess(e){return this.processes.find(a=>a.id===e)}deleteProcess(e){this.processes=this.processes.filter(a=>a.id!==e),this.saveToStorage()}updateCosts(e){this.costs={...this.costs,...e},this.processes.forEach(e=>{this.calculateCosts(e.id)}),this.saveToStorage()}};let m=new ReproductionService;function useIsClient(){let[e,a]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{a(!0)},[]),e}function useTheme(){let[e,a]=(0,o.useState)("light");return(0,o.useEffect)(()=>{let e=localStorage.getItem("theme")||"light";a(e),"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]),{theme:e,toggleTheme:()=>{let s="light"===e?"dark":"light";a(s),localStorage.setItem("theme",s),"dark"===s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),console.log("Tema alterado para:",s)}}}var h=s(6522);let Label=({children:e,className:a="",htmlFor:s,...t})=>l.jsx("label",{htmlFor:s,className:`text-sm font-medium text-gray-700 dark:text-gray-300 leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${a}`,...t,children:e});var u=s(4207),p=s(3192),g=s(8680),j=s(6249);let SemenService=class SemenService{constructor(){this.doses=[]}loadFromStorage(){try{return[]}catch(e){return console.error("Erro ao carregar doses de s\xeamen do localStorage:",e),[]}}saveToStorage(){}createDose(e){let a={id:Date.now(),created:new Date().toISOString(),quantidadeUsada:0,...e};return this.doses.push(a),this.saveToStorage(),a}updateDose(e,a){let s=this.doses.findIndex(a=>a.id===e);return -1===s?null:(this.doses[s]={...this.doses[s],...a},this.saveToStorage(),this.doses[s])}deleteDose(e){this.doses=this.doses.filter(a=>a.id!==e),this.saveToStorage()}getAllDoses(){return this.doses}getDose(e){return this.doses.find(a=>a.id===e)}getAvailableTouros(){return this.doses.filter(e=>{let a=parseInt(e.quantidadeDoses)-(e.quantidadeUsada||0);return a>0}).map(e=>({id:e.id,nome:e.nomeTouro,raca:e.raca,rg:e.rg,dosesDisponiveis:parseInt(e.quantidadeDoses)-(e.quantidadeUsada||0),displayName:`${e.nomeTouro} - ${e.raca} (${parseInt(e.quantidadeDoses)-(e.quantidadeUsada||0)} doses)`}))}useDose(e,a=1){let s=this.doses.find(a=>a.id===e);if(!s)return!1;let t=parseInt(s.quantidadeDoses)-(s.quantidadeUsada||0);return!(t<a)&&(s.quantidadeUsada=(s.quantidadeUsada||0)+a,this.saveToStorage(),!0)}returnDose(e,a=1){let s=this.doses.find(a=>a.id===e);return!!s&&(s.quantidadeUsada=Math.max(0,(s.quantidadeUsada||0)-a),this.saveToStorage(),!0)}searchTouros(e){let a=e.toLowerCase();return this.getAvailableTouros().filter(e=>e.nome.toLowerCase().includes(a)||e.raca.toLowerCase().includes(a)||e.rg.includes(a))}getStockReport(){let e=this.doses.reduce((e,a)=>e+parseInt(a.quantidadeDoses),0),a=this.doses.reduce((e,a)=>e+(a.quantidadeUsada||0),0),s=this.doses.reduce((e,a)=>e+(parseFloat(a.valor)||0),0);return{totalLotes:this.doses.length,totalDoses:e,dosesUsadas:a,dosesDisponiveis:e-a,valorTotal:s,tourosUnicos:new Set(this.doses.map(e=>e.nomeTouro)).size,percentualUso:e>0?a/e*100:0}}};let v=new SemenService,reproduction_FaseColeta=({process:e,onUpdate:a})=>{let[s,t]=(0,o.useState)({data:"",local:"",veterinario:"",observacoes:"",doadoras:[{nome:"",quantidadeOocitos:"",touroAcasalamento:""}],realizada:!1});(0,o.useEffect)(()=>{e.faseColeta&&t(e.faseColeta)},[e.faseColeta]);let handleInputChange=(r,l)=>{let o={...s,[r]:l};t(o),a(e.id,"faseColeta",o)},handleDoadoraChange=(r,l,o)=>{let d=[...s.doadoras];d[r]={...d[r],[l]:o};let i={...s,doadoras:d};t(i),a(e.id,"faseColeta",i)},removeDoadora=r=>{if(s.doadoras.length>1){let l=s.doadoras.filter((e,a)=>a!==r),o={...s,doadoras:l};t(o),a(e.id,"faseColeta",o)}},r=["Vaca 001 - Nelore","Vaca 002 - Angus","Vaca 003 - Brahman","Vaca 004 - Gir","Vaca 005 - Guzer\xe1"],[n,c]=(0,o.useState)([]);(0,o.useEffect)(()=>{let e=v.getAvailableTouros();c(e)},[]);let x=["Touro Alpha - Nelore","Touro Beta - Angus","Touro Gamma - Brahman","Touro Delta - Gir"];return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-semibold",children:"1\xaa Fase - Coleta de \xd3ocitos"}),s.realizada&&l.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:"Conclu\xedda"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"data",children:"Data da Coleta *"}),l.jsx(h.I,{id:"data",type:"date",value:s.data,onChange:e=>handleInputChange("data",e.target.value),disabled:s.realizada})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"local",children:"Local da Coleta"}),l.jsx(h.I,{id:"local",value:s.local,onChange:e=>handleInputChange("local",e.target.value),placeholder:"Digite o local da coleta (ex: Fazenda Central)",disabled:s.realizada,list:"locais-list"}),l.jsx("datalist",{id:"locais-list",children:["Fazenda Central","Fazenda Norte","Fazenda Sul","Cl\xednica Veterin\xe1ria"].map((e,a)=>l.jsx("option",{value:e},a))})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"veterinario",children:"Veterin\xe1rio Respons\xe1vel"}),l.jsx(h.I,{id:"veterinario",value:s.veterinario,onChange:e=>handleInputChange("veterinario",e.target.value),placeholder:"Digite o nome do veterin\xe1rio (ex: Dr. Jo\xe3o Silva)",disabled:s.realizada,list:"veterinarios-list"}),l.jsx("datalist",{id:"veterinarios-list",children:["Dr. Jo\xe3o Silva","Dra. Maria Santos","Dr. Pedro Oliveira","Dra. Ana Costa"].map((e,a)=>l.jsx("option",{value:e},a))})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)(Label,{className:"text-lg font-medium",children:["Doadoras (",s.doadoras.length,")"]}),!s.realizada&&(0,l.jsxs)(i.z,{type:"button",variant:"outline",size:"sm",onClick:()=>{let r={...s,doadoras:[...s.doadoras,{nome:"",quantidadeOocitos:"",touroAcasalamento:""}]};t(r),a(e.id,"faseColeta",r)},children:[l.jsx(g.Z,{className:"h-4 w-4 mr-2"}),"Adicionar Doadora"]})]}),s.doadoras.map((e,a)=>l.jsx(d.Zb,{className:"p-4 bg-gray-50",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("h4",{className:"font-medium",style:{color:"#111827"},children:["Doadora ",a+1]}),!s.realizada&&s.doadoras.length>1&&l.jsx(i.z,{type:"button",variant:"outline",size:"sm",onClick:()=>removeDoadora(a),className:"text-red-600 hover:text-red-700",children:l.jsx(j.Z,{className:"h-4 w-4"})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{children:"Nome da Doadora *"}),l.jsx(h.I,{value:e.nome,onChange:e=>handleDoadoraChange(a,"nome",e.target.value),placeholder:"Digite o nome da doadora (ex: Vaca 001 - Nelore)",disabled:s.realizada,list:`doadoras-list-${a}`}),l.jsx("datalist",{id:`doadoras-list-${a}`,children:r.map((e,a)=>l.jsx("option",{value:e},a))})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{children:"Quantidade de \xd3ocitos"}),l.jsx(h.I,{type:"number",value:e.quantidadeOocitos,onChange:e=>handleDoadoraChange(a,"quantidadeOocitos",e.target.value),placeholder:"Ex: 15",disabled:s.realizada})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{children:"Touro para Acasalamento *"}),(0,l.jsxs)(p.Ph,{value:e.touroAcasalamento,onValueChange:e=>handleDoadoraChange(a,"touroAcasalamento",e),disabled:s.realizada,children:[l.jsx(p.i4,{children:l.jsx(p.ki,{placeholder:"Selecione o touro"})}),(0,l.jsxs)(p.Bw,{children:[n.length>0&&(0,l.jsxs)(l.Fragment,{children:[l.jsx(p.Ql,{disabled:!0,value:"header1",className:"font-semibold text-blue-600",children:"— Touros com S\xeamen Dispon\xedvel —"}),n.map(e=>(0,l.jsxs)(p.Ql,{value:e.displayName,children:["\uD83E\uDDEC ",e.displayName]},e.id))]}),l.jsx(p.Ql,{disabled:!0,value:"header2",className:"font-semibold text-gray-600",children:"— Outros Touros —"}),x.map((e,a)=>(0,l.jsxs)(p.Ql,{value:e,children:["\uD83D\uDC02 ",e]},`manual-${a}`))]})]}),0===n.length&&l.jsx("p",{className:"text-xs text-orange-600",children:'⚠️ Nenhuma dose de s\xeamen cadastrada. Cadastre doses na aba "Doses de S\xeamen"'})]})]})]})},a)),l.jsx(d.Zb,{className:"bg-blue-50 border-blue-200",children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm",style:{color:"#2563eb"},children:"Total de Doadoras"}),l.jsx("p",{className:"text-xl font-bold",style:{color:"#1e40af"},children:s.doadoras.length})]}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm",style:{color:"#2563eb"},children:"Total de \xd3ocitos"}),l.jsx("p",{className:"text-xl font-bold",style:{color:"#1e40af"},children:s.doadoras.reduce((e,a)=>e+(parseInt(a.quantidadeOocitos)||0),0)})]}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm",style:{color:"#2563eb"},children:"Touros Diferentes"}),l.jsx("p",{className:"text-xl font-bold",style:{color:"#1e40af"},children:new Set(s.doadoras.map(e=>e.touroAcasalamento).filter(e=>e)).size})]})]})})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"observacoes",children:"Observa\xe7\xf5es"}),l.jsx(u.g,{id:"observacoes",value:s.observacoes,onChange:e=>handleInputChange("observacoes",e.target.value),placeholder:"Observa\xe7\xf5es sobre o procedimento...",rows:3,disabled:s.realizada})]}),!s.realizada&&l.jsx("div",{className:"flex justify-end",children:l.jsx(i.z,{onClick:()=>{let r=s.doadoras.reduce((e,a)=>e+(parseInt(a.quantidadeOocitos)||0),0);s.doadoras.forEach(e=>{let a=n.find(a=>a.displayName===e.touroAcasalamento);a&&v.useDose(a.id,1)});let l={...s,realizada:!0,totalOocitos:r,totalDoadoras:s.doadoras.length};t(l),a(e.id,"faseColeta",l)},disabled:!s.data||s.doadoras.some(e=>!e.nome||!e.touroAcasalamento),children:"Salvar e Avan\xe7ar para FIV"})}),s.realizada&&l.jsx(d.Zb,{className:"bg-green-50 border-green-200",children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("p",{className:"text-green-800 text-sm",children:["✓ Coleta realizada em ",new Date(s.data).toLocaleDateString(),l.jsx("br",{}),"✓ ",s.totalDoadoras," doadoras processadas",l.jsx("br",{}),"✓ ",s.totalOocitos," \xf3ocitos coletados no total",l.jsx("br",{}),"✓ Pr\xf3xima fase (FIV) programada para"," ",new Date(new Date(s.data).getTime()+864e5).toLocaleDateString()]})})})]})},reproduction_FaseFIV=({process:e,onUpdate:a})=>{let[s,t]=(0,o.useState)({data:"",laboratorio:"",veterinario:"",observacoes:"",resultadosFIV:[],realizada:!1});(0,o.useEffect)(()=>{if(e.faseFIV)t(e.faseFIV);else if(e.faseColeta?.realizada&&e.faseColeta?.doadoras){let a=new Date(e.faseColeta.data);a.setDate(a.getDate()+1);let s=e.faseColeta.doadoras.map(e=>({doadoraNome:e.nome,touroAcasalamento:e.touroAcasalamento,quantidadeOocitos:e.quantidadeOocitos,quantidadeEmbrioes:"",observacoes:""}));t(e=>({...e,data:a.toISOString().split("T")[0],resultadosFIV:s}))}},[e.faseFIV,e.faseColeta]);let handleInputChange=(r,l)=>{let o={...s,[r]:l};t(o),a(e.id,"faseFIV",o)},handleResultadoChange=(r,l,o)=>{let d=[...s.resultadosFIV];d[r]={...d[r],[l]:o};let i={...s,resultadosFIV:d};t(i),a(e.id,"faseFIV",i)};return e.faseColeta?.realizada?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-semibold",children:"2\xaa Fase - FIV (Fertiliza\xe7\xe3o In Vitro)"}),s.realizada&&l.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:"Conclu\xedda"})]}),l.jsx(d.Zb,{className:"bg-blue-50 border-blue-200",children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("p",{className:"text-blue-800 text-sm",children:["\uD83D\uDCC5 Data autom\xe1tica:"," ",s.data?new Date(s.data).toLocaleDateString():"N\xe3o definida","(1 dia ap\xf3s a coleta)"]})})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"data",children:"Data da FIV"}),l.jsx(h.I,{id:"data",type:"date",value:s.data,onChange:e=>handleInputChange("data",e.target.value),disabled:s.realizada}),l.jsx("p",{className:"text-xs text-gray-500",children:"Data calculada automaticamente (1 dia ap\xf3s coleta)"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"laboratorio",children:"Laborat\xf3rio *"}),l.jsx(h.I,{id:"laboratorio",value:s.laboratorio,onChange:e=>handleInputChange("laboratorio",e.target.value),placeholder:"Digite o nome do laborat\xf3rio (ex: Lab Gen\xe9tica Avan\xe7ada)",disabled:s.realizada,list:"laboratorios-list"}),l.jsx("datalist",{id:"laboratorios-list",children:["Lab Gen\xe9tica Avan\xe7ada","Lab Reprodu\xe7\xe3o Animal","Lab FIV Especializado","Lab Central","Lab Universit\xe1rio"].map((e,a)=>l.jsx("option",{value:e},a))})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"veterinario",children:"Veterin\xe1rio Respons\xe1vel"}),l.jsx(h.I,{id:"veterinario",value:s.veterinario,onChange:e=>handleInputChange("veterinario",e.target.value),placeholder:"Digite o nome do veterin\xe1rio (ex: Dr. Jo\xe3o Silva)",disabled:s.realizada,list:"veterinarios-fiv-list"}),l.jsx("datalist",{id:"veterinarios-fiv-list",children:["Dr. Jo\xe3o Silva","Dra. Maria Santos","Dr. Pedro Oliveira","Dra. Ana Costa","Dr. Carlos Mendes"].map((e,a)=>l.jsx("option",{value:e},a))})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)(Label,{className:"text-lg font-medium",children:["Resultados da FIV por Doadora (",s.resultadosFIV.length,")"]}),s.resultadosFIV.map((e,a)=>l.jsx(d.Zb,{className:"p-4 bg-gray-50",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("h4",{className:"font-medium",style:{color:"#111827"},children:[e.doadoraNome," \xd7 ",e.touroAcasalamento]}),(0,l.jsxs)("span",{className:"text-sm text-gray-500",children:[e.quantidadeOocitos," \xf3ocitos coletados"]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{children:"Quantidade de Embri\xf5es Produzidos"}),l.jsx(h.I,{type:"number",value:e.quantidadeEmbrioes,onChange:e=>handleResultadoChange(a,"quantidadeEmbrioes",e.target.value),placeholder:"Ex: 8",disabled:s.realizada})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{children:"Observa\xe7\xf5es Espec\xedficas"}),l.jsx(h.I,{value:e.observacoes,onChange:e=>handleResultadoChange(a,"observacoes",e.target.value),placeholder:"Observa\xe7\xf5es espec\xedficas desta doadora...",disabled:s.realizada})]})]})]})},a)),l.jsx(d.Zb,{className:"bg-blue-50 border-blue-200",children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm",style:{color:"#2563eb"},children:"Total de Doadoras"}),l.jsx("p",{className:"text-xl font-bold",style:{color:"#1e40af"},children:s.resultadosFIV.length})]}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm",style:{color:"#2563eb"},children:"Total de Embri\xf5es"}),l.jsx("p",{className:"text-xl font-bold",style:{color:"#1e40af"},children:s.resultadosFIV.reduce((e,a)=>e+(parseInt(a.quantidadeEmbrioes)||0),0)})]}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm",style:{color:"#2563eb"},children:"Taxa de Convers\xe3o"}),l.jsx("p",{className:"text-xl font-bold",style:{color:"#1e40af"},children:(()=>{let e=s.resultadosFIV.reduce((e,a)=>e+(parseInt(a.quantidadeOocitos)||0),0),a=s.resultadosFIV.reduce((e,a)=>e+(parseInt(a.quantidadeEmbrioes)||0),0);return e>0?`${Math.round(a/e*100)}%`:"0%"})()})]})]})})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"observacoes",children:"Observa\xe7\xf5es"}),l.jsx(u.g,{id:"observacoes",value:s.observacoes,onChange:e=>handleInputChange("observacoes",e.target.value),placeholder:"Observa\xe7\xf5es sobre o procedimento de FIV...",rows:3,disabled:s.realizada})]}),!s.realizada&&l.jsx("div",{className:"flex justify-end",children:l.jsx(i.z,{onClick:()=>{let r=s.resultadosFIV.reduce((e,a)=>e+(parseInt(a.quantidadeEmbrioes)||0),0),l={...s,realizada:!0,totalEmbrioes:r};t(l),a(e.id,"faseFIV",l)},disabled:!s.laboratorio,children:"Salvar e Programar TE"})}),s.realizada&&l.jsx(d.Zb,{className:"bg-green-50 border-green-200",children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("p",{className:"text-green-800 text-sm",children:["✓ FIV realizada em ",new Date(s.data).toLocaleDateString(),l.jsx("br",{}),"✓ ",s.totalEmbrioes," embri\xf5es produzidos no total",l.jsx("br",{}),"✓ ",s.resultadosFIV.length," doadoras processadas",l.jsx("br",{}),"✓ Pr\xf3xima fase (TE) programada para"," ",e.faseColeta?.data?new Date(new Date(e.faseColeta.data).getTime()+6048e5).toLocaleDateString():"Data n\xe3o definida"]})})})]}):l.jsx(d.Zb,{className:"bg-yellow-50 border-yellow-200",children:l.jsx(d.aY,{className:"pt-4",children:l.jsx("p",{className:"text-yellow-800",children:"⚠️ A 1\xaa Fase (Coleta) deve ser conclu\xedda antes de iniciar a FIV"})})})},reproduction_FaseTE=({process:e,onUpdate:a})=>{let[s,t]=(0,o.useState)({data:"",local:"",receptoras:[],veterinario:"",observacoes:"",realizada:!1});(0,o.useEffect)(()=>{if(e.faseTE)t(e.faseTE);else if(e.faseColeta?.data&&e.faseFIV?.realizada){let a=new Date(e.faseColeta.data);a.setDate(a.getDate()+7);let s=0;e.faseFIV.totalEmbrioes?s=e.faseFIV.totalEmbrioes:e.faseFIV.resultadosFIV&&(s=e.faseFIV.resultadosFIV.reduce((e,a)=>e+(parseInt(a.quantidadeEmbrioes)||0),0));let r=[];for(let e=0;e<s;e++)r.push({codigo:generateReceptoraCode(),status:"ativa"});t(e=>({...e,data:a.toISOString().split("T")[0],receptoras:r}))}},[e.faseTE,e.faseColeta,e.faseFIV]);let handleInputChange=(r,l)=>{let o={...s,[r]:l};t(o),a(e.id,"faseTE",o)},generateReceptoraCode=()=>{let e=Math.floor(9999*Math.random()).toString().padStart(4,"0");return`RPT${e}`},formatReceptoraCode=e=>{let a=e.replace(/[^A-Za-z0-9]/g,"").toUpperCase(),s=a.replace(/[0-9]/g,""),t=a.replace(/[A-Za-z]/g,""),r=s.slice(0,3),l=t.slice(0,4);return r+l};return e.faseFIV?.realizada?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-semibold",children:"3\xaa Fase - TE (Transfer\xeancia de Embri\xf5es)"}),s.realizada&&l.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:"Conclu\xedda"})]}),l.jsx(d.Zb,{className:"bg-blue-50 border-blue-200",children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("p",{className:"text-blue-800 text-sm",children:["\uD83D\uDCC5 Data autom\xe1tica: ",s.data?new Date(s.data).toLocaleDateString():"N\xe3o definida","(7 dias ap\xf3s a coleta - ",e.faseColeta?.data?new Date(e.faseColeta.data).toLocaleDateString():"data da coleta n\xe3o definida",")"]})})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"data",children:"Data da TE"}),l.jsx(h.I,{id:"data",type:"date",value:s.data,onChange:e=>handleInputChange("data",e.target.value),disabled:s.realizada}),l.jsx("p",{className:"text-xs text-gray-500",children:"Data calculada automaticamente (7 dias ap\xf3s coleta)"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"local",children:"Local da TE *"}),l.jsx(h.I,{id:"local",value:s.local,onChange:e=>handleInputChange("local",e.target.value),placeholder:"Digite o local da TE (ex: Fazenda Central)",disabled:s.realizada,list:"locais-te-list"}),l.jsx("datalist",{id:"locais-te-list",children:["Fazenda Central","Fazenda Norte","Fazenda Sul","Cl\xednica Veterin\xe1ria","Campo Experimental"].map((e,a)=>l.jsx("option",{value:e},a))})]}),(0,l.jsxs)("div",{className:"md:col-span-2 space-y-2",children:[(0,l.jsxs)(Label,{children:["Receptoras (",s.receptoras.length,")"]}),l.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:s.receptoras.map((e,a)=>(0,l.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-gray-50 rounded",children:[l.jsx(h.I,{value:e.codigo,onChange:e=>{let t=formatReceptoraCode(e.target.value),r=[...s.receptoras];r[a].codigo=t,handleInputChange("receptoras",r)},placeholder:"Ex: RPT0001",disabled:s.realizada,className:"w-24 text-center font-mono",maxLength:7}),!s.realizada&&l.jsx(i.z,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e=[...s.receptoras];e[a].codigo=generateReceptoraCode(),handleInputChange("receptoras",e)},children:"Gerar"})]},a))}),(0,l.jsxs)("p",{className:"text-xs text-gray-500",children:["Receptoras geradas automaticamente baseado na quantidade de embri\xf5es (",e.faseFIV?.totalEmbrioes||e.faseFIV?.resultadosFIV?.reduce((e,a)=>e+(parseInt(a.quantidadeEmbrioes)||0),0)||0,")"]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"veterinario",children:"Veterin\xe1rio Respons\xe1vel"}),l.jsx(h.I,{id:"veterinario",value:s.veterinario,onChange:e=>handleInputChange("veterinario",e.target.value),placeholder:"Digite o nome do veterin\xe1rio (ex: Dr. Jo\xe3o Silva)",disabled:s.realizada,list:"veterinarios-te-list"}),l.jsx("datalist",{id:"veterinarios-te-list",children:["Dr. Jo\xe3o Silva","Dra. Maria Santos","Dr. Pedro Oliveira","Dra. Ana Costa","Dr. Carlos Mendes"].map((e,a)=>l.jsx("option",{value:e},a))})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"observacoes",children:"Observa\xe7\xf5es"}),l.jsx(u.g,{id:"observacoes",value:s.observacoes,onChange:e=>handleInputChange("observacoes",e.target.value),placeholder:"Observa\xe7\xf5es sobre a transfer\xeancia de embri\xf5es...",rows:3,disabled:s.realizada})]}),!s.realizada&&l.jsx("div",{className:"flex justify-end",children:l.jsx(i.z,{onClick:()=>{let r={...s,realizada:!0};t(r),a(e.id,"faseTE",r)},disabled:!s.local,children:"Salvar e Programar DG"})}),s.realizada&&l.jsx(d.Zb,{className:"bg-green-50 border-green-200",children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("p",{className:"text-green-800 text-sm",children:["✓ TE realizada em ",new Date(s.data).toLocaleDateString(),l.jsx("br",{}),"✓ ",s.receptoras.length," receptoras transferidas",l.jsx("br",{}),"✓ Pr\xf3xima fase (DG) programada para ",s.data?new Date(new Date(s.data).getTime()+2592e6).toLocaleDateString():"Data n\xe3o definida"]})})})]}):l.jsx(d.Zb,{className:"bg-yellow-50 border-yellow-200",children:l.jsx(d.aY,{className:"pt-4",children:l.jsx("p",{className:"text-yellow-800",children:"⚠️ A 2\xaa Fase (FIV) deve ser conclu\xedda antes de iniciar a TE"})})})},reproduction_FaseDG=({process:e,onUpdate:a})=>{let[s,t]=(0,o.useState)({data:"",dataRealizada:"",receptoras:[],veterinario:"",observacoes:"",realizada:!1}),[r,n]=(0,o.useState)(null);(0,o.useEffect)(()=>{if(e.faseDG)t(e.faseDG);else if(e.faseTE?.data&&e.faseTE?.receptoras){let a=new Date(e.faseTE.data);a.setDate(a.getDate()+30);let s=e.faseTE.receptoras.map(e=>({...e,resultado:"",dataRealizada:""}));t(e=>({...e,data:a.toISOString().split("T")[0],receptoras:s}))}if(e.faseTE?.data&&!e.faseDG?.realizada){let a=new Date(e.faseTE.data);a.setDate(a.getDate()+30);let s=new Date,t=Math.ceil((a-s)/864e5);t<=3&&t>=0&&n({days:t,date:a})}},[e.faseDG,e.faseTE]);let handleInputChange=(r,l)=>{let o={...s,[r]:l};t(o),a(e.id,"faseDG",o)},handleReceptoraChange=(r,l,o)=>{let d=[...s.receptoras];d[r]={...d[r],[l]:o};let i={...s,receptoras:d};t(i),a(e.id,"faseDG",i)};return e.faseTE?.realizada?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-semibold",children:"4\xaa Fase - DG (Diagn\xf3stico de Prenhez)"}),s.realizada&&l.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${"prenha"===s.resultado?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:"prenha"===s.resultado?"Prenha ✓":"Vazia"})]}),r&&(0,l.jsxs)(Alert,{className:"border-orange-200 bg-orange-50",children:[l.jsx(x.Z,{className:"h-4 w-4"}),(0,l.jsxs)(AlertDescription,{children:[(0,l.jsxs)("strong",{children:["DG deve ser realizado em ",r.days," dias!"]}),l.jsx("br",{}),"Data programada: ",r.date.toLocaleDateString()]})]}),l.jsx(d.Zb,{className:"bg-blue-50 border-blue-200",children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("p",{className:"text-blue-800 text-sm",children:["\uD83D\uDCC5 Data programada: ",s.data?new Date(s.data).toLocaleDateString():"N\xe3o definida","(30 dias ap\xf3s a TE - ",e.faseTE?.data?new Date(e.faseTE.data).toLocaleDateString():"data da TE n\xe3o definida",")",l.jsx("br",{}),"\uD83D\uDC04 Receptoras: ",s.receptoras.length," transferidas na TE"]})})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"data",children:"Data Programada do DG"}),l.jsx(h.I,{id:"data",type:"date",value:s.data,onChange:e=>handleInputChange("data",e.target.value),disabled:s.realizada}),l.jsx("p",{className:"text-xs text-gray-500",children:"30 dias ap\xf3s TE"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"dataRealizada",children:"Data Realizada do DG"}),l.jsx(h.I,{id:"dataRealizada",type:"date",value:s.dataRealizada,onChange:e=>handleInputChange("dataRealizada",e.target.value),disabled:s.realizada}),l.jsx("p",{className:"text-xs text-gray-500",children:"Mesma data para todas"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"veterinario",children:"Veterin\xe1rio Respons\xe1vel"}),l.jsx(h.I,{id:"veterinario",value:s.veterinario,onChange:e=>handleInputChange("veterinario",e.target.value),placeholder:"Digite o nome do veterin\xe1rio",disabled:s.realizada,list:"veterinarios-dg-list"}),l.jsx("datalist",{id:"veterinarios-dg-list",children:["Dr. Jo\xe3o Silva","Dra. Maria Santos","Dr. Pedro Oliveira","Dra. Ana Costa","Dr. Carlos Mendes"].map((e,a)=>l.jsx("option",{value:e},a))})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)(Label,{className:"text-lg font-medium",children:["Receptoras (",s.receptoras.length,")"]}),(0,l.jsxs)("span",{className:"text-sm text-gray-500",children:["Data \xfanica: ",s.dataRealizada?new Date(s.dataRealizada).toLocaleDateString():"N\xe3o definida"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:s.receptoras.map((e,a)=>l.jsx(d.Zb,{className:"p-3 bg-gray-50",children:(0,l.jsxs)("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-center",children:l.jsx("div",{className:"w-20 mx-auto text-center font-mono bg-white p-2 rounded border text-sm font-bold",children:e.codigo})}),l.jsx("div",{className:"space-y-2",children:(0,l.jsxs)(p.Ph,{value:e.resultado||"",onValueChange:e=>handleReceptoraChange(a,"resultado",e),disabled:s.realizada,children:[l.jsx(p.i4,{className:"h-8 text-sm",children:l.jsx(p.ki,{placeholder:"Resultado"})}),(0,l.jsxs)(p.Bw,{children:[l.jsx(p.Ql,{value:"prenha",children:"Prenha"}),l.jsx(p.Ql,{value:"vazia",children:"Vazia"})]})]})})]})},a))}),(0,l.jsxs)("div",{className:"flex justify-center space-x-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm",style:{color:"#2563eb"},children:"Total"}),l.jsx("p",{className:"text-lg font-bold",style:{color:"#1e40af"},children:s.receptoras.length})]}),(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm",style:{color:"#16a34a"},children:"Prenhas"}),l.jsx("p",{className:"text-lg font-bold",style:{color:"#166534"},children:s.receptoras.filter(e=>"prenha"===e.resultado).length})]}),(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm",style:{color:"#dc2626"},children:"Vazias"}),l.jsx("p",{className:"text-lg font-bold",style:{color:"#b91c1c"},children:s.receptoras.filter(e=>"vazia"===e.resultado).length})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"observacoes",children:"Observa\xe7\xf5es"}),l.jsx(u.g,{id:"observacoes",value:s.observacoes,onChange:e=>handleInputChange("observacoes",e.target.value),placeholder:"Observa\xe7\xf5es sobre o diagn\xf3stico...",rows:2,disabled:s.realizada})]}),!s.realizada&&l.jsx("div",{className:"flex justify-end",children:l.jsx(i.z,{onClick:()=>{let r={...s,realizada:!0,dataRealizada:s.dataRealizada||new Date().toISOString().split("T")[0]};t(r),a(e.id,"faseDG",r);let l=s.receptoras.filter(e=>"prenha"===e.resultado);if(l.length>0){let s={receptoras:l.map(a=>({codigo:a.codigo,sexo:"",previsaoParto:e.faseTE?.data?new Date(new Date(e.faseTE.data).setMonth(new Date(e.faseTE.data).getMonth()+9)).toISOString().split("T")[0]:""})),data:"",realizada:!1};a(e.id,"faseSexagem",s)}},disabled:s.receptoras.some(e=>!e.resultado),children:"Salvar Resultados"})}),s.realizada&&l.jsx(d.Zb,{className:"bg-green-50 border-green-200",children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("p",{className:"text-green-800 text-sm",children:["✓ DG realizado em ",s.dataRealizada?new Date(s.dataRealizada).toLocaleDateString():"Data n\xe3o informada",l.jsx("br",{}),"✓ ",s.receptoras.filter(e=>"prenha"===e.resultado).length," receptoras prenhas",l.jsx("br",{}),"✓ ",s.receptoras.filter(e=>"vazia"===e.resultado).length," receptoras vazias",s.receptoras.filter(e=>"prenha"===e.resultado).length>0&&(0,l.jsxs)(l.Fragment,{children:[l.jsx("br",{}),"✓ Sexagem dispon\xedvel para receptoras prenhas"]})]})})})]}):l.jsx(d.Zb,{className:"bg-yellow-50 border-yellow-200",children:l.jsx(d.aY,{className:"pt-4",children:l.jsx("p",{className:"text-yellow-800",children:"⚠️ A 3\xaa Fase (TE) deve ser conclu\xedda antes de realizar o DG"})})})},reproduction_FaseSexagem=({process:e,onUpdate:a})=>{let[s,t]=(0,o.useState)({data:"",receptoras:[],observacoes:"",realizada:!1}),[r,n]=(0,o.useState)(!1);(0,o.useEffect)(()=>{try{if(e.faseSexagem)t(e.faseSexagem);else if(e.faseDG?.realizada&&Array.isArray(e.faseDG?.receptoras)){let a=e.faseDG.receptoras.filter(e=>e&&"prenha"===e.resultado);if(a.length>0){let s=a.map(a=>{let s=e.faseTE?.data?new Date(new Date(e.faseTE.data).setMonth(new Date(e.faseTE.data).getMonth()+9)).toISOString().split("T")[0]:"";return{codigo:a.codigo||"",sexo:"",previsaoParto:s}});t(e=>({...e,receptoras:s}))}}e.faseDG?.realizada&&Array.isArray(e.faseDG?.receptoras)&&e.faseDG.receptoras.some(e=>e&&"prenha"===e.resultado)&&!e.faseSexagem?.realizada&&n(!0)}catch(e){console.error("Erro na FaseSexagem useEffect:",e)}},[e.faseSexagem,e.faseDG,e.faseTE]);let handleInputChange=(r,l)=>{let o={...s,[r]:l};t(o),a(e.id,"faseSexagem",o)},handleReceptoraChange=(a,t,r)=>{let l=[...s.receptoras];if(l[a]={...l[a],[t]:r},"sexo"===t&&e.faseTE?.data){let s=new Date(e.faseTE.data);s.setMonth(s.getMonth()+9),l[a].previsaoParto=s.toISOString().split("T")[0]}handleInputChange("receptoras",l)},removeReceptora=e=>{let a=s.receptoras.filter((a,s)=>s!==e);handleInputChange("receptoras",a)},c=Array.isArray(e.faseDG?.receptoras)?e.faseDG.receptoras.filter(e=>e&&"prenha"===e.resultado):[];return e.faseDG?.realizada?0===c.length?l.jsx(d.Zb,{className:"bg-red-50 border-red-200",children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("p",{className:"text-red-800",children:["❌ N\xe3o h\xe1 receptoras prenhas para sexagem",l.jsx("br",{}),'Todas as receptoras tiveram resultado "Vazia" no DG']})})}):(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-semibold",children:"5\xaa Fase - Sexagem dos Embri\xf5es"}),s.realizada&&l.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:"Conclu\xedda"})]}),r&&!s.realizada&&(0,l.jsxs)(Alert,{className:"border-blue-200 bg-blue-50",children:[l.jsx(x.Z,{className:"h-4 w-4"}),(0,l.jsxs)(AlertDescription,{children:[l.jsx("strong",{children:"Sexagem dispon\xedvel!"}),l.jsx("br",{}),"As receptoras com DG positivo est\xe3o dispon\xedveis para sexagem (opcional)."]})]}),l.jsx(d.Zb,{className:"bg-blue-50 border-blue-200",children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("p",{className:"text-blue-800 text-sm",children:["ℹ️ Esta fase \xe9 OPCIONAL - Apenas receptoras prenhas do DG",l.jsx("br",{}),"\uD83D\uDCC5 Previs\xe3o de parto: 9 meses ap\xf3s TE (",e.faseTE?.data?new Date(e.faseTE.data).toLocaleDateString():"data n\xe3o definida",")",l.jsx("br",{}),"\uD83D\uDC04 ",c.length," receptora(s) prenha(s) dispon\xedvel(is) para sexagem"]})})}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"data",children:"Data da Sexagem"}),l.jsx(h.I,{id:"data",type:"date",value:s.data,onChange:e=>handleInputChange("data",e.target.value),disabled:s.realizada})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)(Label,{className:"text-sm font-medium",children:["Receptoras Prenhas (",s.receptoras.length,")"]}),!s.realizada&&(0,l.jsxs)(i.z,{type:"button",variant:"outline",size:"sm",onClick:()=>{handleInputChange("receptoras",[...s.receptoras,{codigo:"",sexo:"",previsaoParto:""}])},className:"h-7 text-xs",children:[l.jsx(g.Z,{className:"h-3 w-3 mr-1"}),"Adicionar"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:s.receptoras.map((e,a)=>l.jsx(d.Zb,{className:"p-3 bg-gray-50",children:(0,l.jsxs)("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-center",children:l.jsx("div",{className:"w-20 mx-auto text-center font-mono bg-white p-2 rounded border text-sm font-bold",children:e.codigo})}),(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx(Label,{className:"text-xs",children:"Sexo"}),(0,l.jsxs)(p.Ph,{value:e.sexo,onValueChange:e=>handleReceptoraChange(a,"sexo",e),disabled:s.realizada,children:[l.jsx(p.i4,{className:"h-8 text-sm",children:l.jsx(p.ki,{placeholder:"Sexo"})}),(0,l.jsxs)(p.Bw,{children:[l.jsx(p.Ql,{value:"macho",children:"♂ Macho"}),l.jsx(p.Ql,{value:"femea",children:"♀ F\xeamea"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx(Label,{className:"text-xs",children:"Parto"}),l.jsx(h.I,{type:"date",value:e.previsaoParto,onChange:e=>handleReceptoraChange(a,"previsaoParto",e.target.value),disabled:s.realizada,className:"h-8 text-sm"})]}),!s.realizada&&s.receptoras.length>1&&l.jsx("div",{className:"text-center",children:l.jsx(i.z,{type:"button",variant:"outline",size:"sm",onClick:()=>removeReceptora(a),className:"text-red-600 hover:text-red-700 h-6 w-6 p-0",children:l.jsx(j.Z,{className:"h-3 w-3"})})})]})},a))})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"observacoes",children:"Observa\xe7\xf5es"}),l.jsx(u.g,{id:"observacoes",value:s.observacoes,onChange:e=>handleInputChange("observacoes",e.target.value),placeholder:"Observa\xe7\xf5es sobre a sexagem...",rows:3,disabled:s.realizada})]}),!s.realizada&&(0,l.jsxs)("div",{className:"flex justify-end space-x-2",children:[l.jsx(i.z,{variant:"outline",onClick:()=>{let t={data:new Date(Date.now()+1728e5).toISOString().split("T")[0],receptoras:s.receptoras.map(e=>({codigo:e.codigo,sexo:"n\xe3o informado",previsaoParto:e.previsaoParto,frente:"",dataEntrega:"",motorista:"",notaFiscal:"",valorReceptora:"",valorFrete:""})),realizada:!1};a(e.id,"faseEntrega",t)},children:"Pular Sexagem"}),l.jsx(i.z,{onClick:()=>{let r={...s,realizada:!0,data:s.data||new Date().toISOString().split("T")[0]};t(r),a(e.id,"faseSexagem",r);let l=new Date(r.data);l.setDate(l.getDate()+2);let o={data:l.toISOString().split("T")[0],receptoras:s.receptoras.map(e=>({codigo:e.codigo,sexo:e.sexo,previsaoParto:e.previsaoParto,frente:"",dataEntrega:"",motorista:"",notaFiscal:"",valorReceptora:"",valorFrete:""})),realizada:!1};a(e.id,"faseEntrega",o)},disabled:0===s.receptoras.length,children:"Salvar e Programar Entrega"})]}),s.realizada&&l.jsx(d.Zb,{className:"bg-green-50 border-green-200",children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("p",{className:"text-green-800 text-sm",children:["✓ Sexagem realizada em"," ",s.data?new Date(s.data).toLocaleDateString():"Data n\xe3o informada",l.jsx("br",{}),"✓ ",s.receptoras.length," receptora(s) processada(s)",l.jsx("br",{}),"✓ Pr\xf3xima fase (Entrega) programada para"," ",s.data?new Date(new Date(s.data).getTime()+1728e5).toLocaleDateString():"Data n\xe3o definida"]})})})]}):l.jsx(d.Zb,{className:"bg-yellow-50 border-yellow-200",children:l.jsx(d.aY,{className:"pt-4",children:l.jsx("p",{className:"text-yellow-800",children:"⚠️ A 4\xaa Fase (DG) deve ser conclu\xedda antes da sexagem"})})})};var f=s(5508);let reproduction_FaseEntrega=({process:e,onUpdate:a})=>{let[s,t]=(0,o.useState)({data:"",receptoras:[],observacoes:"",realizada:!1}),[r,n]=(0,o.useState)(null);(0,o.useEffect)(()=>{if(e.faseEntrega)t(e.faseEntrega);else if(e.faseSexagem?.realizada||e.faseDG?.resultado==="prenha"&&e.faseTE?.receptora){let a=e.faseSexagem?.data||new Date().toISOString().split("T")[0],s=new Date(a);s.setDate(s.getDate()+2);let r=e.faseSexagem?.receptoras||[{codigo:e.faseTE?.receptora||"",sexo:"n\xe3o informado",previsaoParto:e.faseTE?.data?new Date(new Date(e.faseTE.data).setMonth(new Date(e.faseTE.data).getMonth()+9)).toISOString().split("T")[0]:""}];t(e=>({...e,data:s.toISOString().split("T")[0],receptoras:r.map(e=>({...e,frente:"",dataEntrega:"",motorista:"",notaFiscal:"",valorReceptora:"",valorFrete:""}))}))}if(e.faseSexagem?.data&&!e.faseEntrega?.realizada){let a=new Date(e.faseSexagem.data);a.setDate(a.getDate()+2);let s=new Date,t=Math.ceil((a-s)/864e5);t<=1&&t>=0&&n({days:t,date:a})}},[e.faseEntrega,e.faseSexagem,e.faseDG,e.faseTE]);let handleInputChange=(r,l)=>{let o={...s,[r]:l};t(o),a(e.id,"faseEntrega",o)},handleReceptoraChange=(e,a,t)=>{let r=[...s.receptoras];r[e]={...r[e],[a]:t},handleInputChange("receptoras",r)},removeReceptora=e=>{let a=s.receptoras.filter((a,s)=>s!==e);handleInputChange("receptoras",a)},calcularTotal=e=>{let a=parseFloat(e.valorReceptora)||0,s=parseFloat(e.valorFrete)||0;return a+s},calcularTotalGeral=()=>s.receptoras.reduce((e,a)=>e+calcularTotal(a),0),c=["Jo\xe3o da Silva","Pedro Santos","Carlos Oliveira","Maria Fernandes","Jos\xe9 Almeida"];return e.faseDG?.resultado,(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-semibold",children:"6\xaa Fase - Entrega das Receptoras"}),s.realizada&&l.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:"Conclu\xedda"})]}),r&&(0,l.jsxs)(Alert,{className:"border-orange-200 bg-orange-50",children:[l.jsx(f.Z,{className:"h-4 w-4"}),(0,l.jsxs)(AlertDescription,{children:[(0,l.jsxs)("strong",{children:["Entrega deve ser feita em ",r.days," dias!"]}),l.jsx("br",{}),"Data programada: ",r.date.toLocaleDateString()]})]}),l.jsx(d.Zb,{className:"bg-blue-50 border-blue-200",children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("p",{className:"text-blue-800 text-sm",children:["\uD83D\uDCC5 Data programada: ",s.data?new Date(s.data).toLocaleDateString():"N\xe3o definida","(2 dias ap\xf3s a sexagem)",l.jsx("br",{}),"\uD83D\uDE9B Organize a log\xedstica de entrega das receptoras prenhas"]})})}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"data",children:"Data Programada da Entrega"}),l.jsx(h.I,{id:"data",type:"date",value:s.data,onChange:e=>handleInputChange("data",e.target.value),disabled:s.realizada}),l.jsx("p",{className:"text-xs text-gray-500",children:"Data calculada automaticamente (2 dias ap\xf3s sexagem)"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[l.jsx(Label,{children:"Receptoras para Entrega"}),!s.realizada&&(0,l.jsxs)(i.z,{type:"button",variant:"outline",size:"sm",onClick:()=>{handleInputChange("receptoras",[...s.receptoras,{codigo:"",sexo:"",previsaoParto:"",frente:"",dataEntrega:"",motorista:"",notaFiscal:"",valorReceptora:"",valorFrete:""}])},children:[l.jsx(g.Z,{className:"h-4 w-4 mr-2"}),"Adicionar Receptora"]})]}),s.receptoras.map((e,a)=>l.jsx(d.Zb,{className:"p-4",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("h4",{className:"font-medium",children:["Receptora ",a+1]}),!s.realizada&&s.receptoras.length>1&&l.jsx(i.z,{type:"button",variant:"outline",size:"sm",onClick:()=>removeReceptora(a),className:"text-red-600 hover:text-red-700",children:l.jsx(j.Z,{className:"h-4 w-4"})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{children:"C\xf3digo da Receptora"}),l.jsx(h.I,{value:e.codigo,onChange:e=>handleReceptoraChange(a,"codigo",e.target.value),placeholder:"Ex: RPT0001",disabled:s.realizada})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{children:"Sexo da Cria"}),l.jsx(h.I,{value:e.sexo,onChange:e=>handleReceptoraChange(a,"sexo",e.target.value),placeholder:"Macho/F\xeamea",disabled:s.realizada})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{children:"Previs\xe3o de Parto"}),l.jsx(h.I,{type:"date",value:e.previsaoParto,onChange:e=>handleReceptoraChange(a,"previsaoParto",e.target.value),disabled:s.realizada})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{children:"Frente (Opcional)"}),l.jsx(h.I,{value:e.frente,onChange:e=>handleReceptoraChange(a,"frente",e.target.value),placeholder:"Nome da frente/destino",disabled:s.realizada})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{children:"Data de Entrega"}),l.jsx(h.I,{type:"date",value:e.dataEntrega,onChange:e=>handleReceptoraChange(a,"dataEntrega",e.target.value),disabled:s.realizada})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{children:"Motorista"}),l.jsx(h.I,{value:e.motorista,onChange:e=>handleReceptoraChange(a,"motorista",e.target.value),placeholder:"Digite o nome do motorista (ex: Jo\xe3o da Silva)",disabled:s.realizada,list:`motoristas-list-${a}`}),l.jsx("datalist",{id:`motoristas-list-${a}`,children:c.map((e,a)=>l.jsx("option",{value:e},a))})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{children:"Nota Fiscal"}),l.jsx(h.I,{value:e.notaFiscal,onChange:e=>handleReceptoraChange(a,"notaFiscal",e.target.value),placeholder:"N\xfamero da NF",disabled:s.realizada})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{children:"Valor da Receptora (R$)"}),l.jsx(h.I,{type:"number",step:"0.01",value:e.valorReceptora,onChange:e=>handleReceptoraChange(a,"valorReceptora",e.target.value),placeholder:"0,00",disabled:s.realizada})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{children:"Valor do Frete (R$)"}),l.jsx(h.I,{type:"number",step:"0.01",value:e.valorFrete,onChange:e=>handleReceptoraChange(a,"valorFrete",e.target.value),placeholder:"0,00",disabled:s.realizada})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{children:"Total (R$)"}),l.jsx(h.I,{value:calcularTotal(e).toFixed(2),disabled:!0,className:"bg-gray-100"})]})]})]})},a)),s.receptoras.length>0&&l.jsx(d.Zb,{className:"bg-gray-50 border-gray-200",children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-medium",children:"Total Geral:"}),(0,l.jsxs)("span",{className:"text-xl font-bold",children:["R$ ",calcularTotalGeral().toFixed(2)]})]})})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"observacoes",children:"Observa\xe7\xf5es"}),l.jsx(u.g,{id:"observacoes",value:s.observacoes,onChange:e=>handleInputChange("observacoes",e.target.value),placeholder:"Observa\xe7\xf5es sobre a entrega...",rows:3,disabled:s.realizada})]}),!s.realizada&&l.jsx("div",{className:"flex justify-end",children:l.jsx(i.z,{onClick:()=>{let r={...s,realizada:!0};t(r),a(e.id,"faseEntrega",r)},disabled:0===s.receptoras.length,children:"Finalizar Processo"})}),s.realizada&&l.jsx(d.Zb,{className:"bg-green-50 border-green-200",children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("p",{className:"text-green-800 text-sm",children:["✓ Processo de reprodu\xe7\xe3o finalizado!",l.jsx("br",{}),"✓ ",s.receptoras.length," receptora(s) entregue(s)",l.jsx("br",{}),"✓ Valor total: R$ ",calcularTotalGeral().toFixed(2),l.jsx("br",{}),"✓ Todas as fases do processo FIV foram conclu\xeddas com sucesso"]})})})]})};var b=s(3658),N=s(9871);let reproduction_CostDashboard=({process:e,financialReport:a})=>{var s;let formatCurrency=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0),calculateROI=(e,a)=>a&&0!==a?(e/a*100).toFixed(1):0;return(0,l.jsxs)("div",{className:"space-y-6",children:[e&&(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx(d.Zb,{children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:"Custo Realizado"}),l.jsx("p",{className:"text-2xl font-bold text-red-600",children:formatCurrency(e.custoRealizado)})]}),l.jsx(c.Z,{className:"h-8 w-8 text-red-500"})]})})}),l.jsx(d.Zb,{children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:"Custo Total Est."}),l.jsx("p",{className:"text-2xl font-bold text-orange-600",children:formatCurrency(e.custoTotal)})]}),l.jsx(b.Z,{className:"h-8 w-8 text-orange-500"})]})})}),l.jsx(d.Zb,{children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:"Lucro Estimado"}),l.jsx("p",{className:`text-2xl font-bold ${e.lucroEstimado>0?"text-green-600":"text-red-600"}`,children:formatCurrency(e.lucroEstimado)})]}),e.lucroEstimado>0?l.jsx(t.TrendingUpIcon,{className:"h-8 w-8 text-green-500"}):l.jsx(t.TrendingDownIcon,{className:"h-8 w-8 text-red-500"})]})})}),l.jsx(d.Zb,{children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:"ROI Estimado"}),(0,l.jsxs)("p",{className:`text-2xl font-bold ${(s=calculateROI(e.lucroEstimado,e.custoTotal))>20?"text-green-600":s>0?"text-yellow-600":"text-red-600"}`,children:[calculateROI(e.lucroEstimado,e.custoTotal),"%"]})]}),l.jsx(b.Z,{className:"h-8 w-8 text-blue-500"})]})})})]}),e&&(0,l.jsxs)(d.Zb,{children:[l.jsx(d.Ol,{children:l.jsx(d.ll,{children:"Detalhamento de Custos por Fase"})}),l.jsx(d.aY,{children:(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm font-medium",children:"1\xaa Fase - Coleta"}),e.faseColeta?.realizada&&l.jsx(n.C,{variant:"success",children:"Conclu\xedda"})]}),l.jsx("span",{className:"font-medium",children:formatCurrency(e.faseColeta?.realizada?1200:0)})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm font-medium",children:"2\xaa Fase - FIV"}),e.faseFIV?.realizada&&l.jsx(n.C,{variant:"success",children:"Conclu\xedda"})]}),l.jsx("span",{className:"font-medium",children:formatCurrency(e.faseFIV?.realizada?1700:0)})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm font-medium",children:"3\xaa Fase - TE"}),e.faseTE?.realizada&&l.jsx(n.C,{variant:"success",children:"Conclu\xedda"})]}),l.jsx("span",{className:"font-medium",children:formatCurrency(e.faseTE?.realizada?1e3:0)})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm font-medium",children:"4\xaa Fase - DG"}),e.faseDG?.realizada&&l.jsx(n.C,{variant:"success",children:"Conclu\xedda"})]}),l.jsx("span",{className:"font-medium",children:formatCurrency(e.faseDG?.realizada?550:0)})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm font-medium",children:"5\xaa Fase - Sexagem"}),e.faseSexagem?.realizada&&l.jsx(n.C,{variant:"success",children:"Conclu\xedda"})]}),l.jsx("span",{className:"font-medium",children:formatCurrency(e.faseSexagem?.realizada?200:0)})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm font-medium",children:"6\xaa Fase - Receptoras + Frete"}),e.faseEntrega?.realizada&&l.jsx(n.C,{variant:"success",children:"Conclu\xedda"})]}),l.jsx("span",{className:"font-medium",children:formatCurrency(e.faseEntrega?.realizada?e.faseEntrega.receptoras.reduce((e,a)=>e+(parseFloat(a.valorReceptora)||0)+(parseFloat(a.valorFrete)||0),0):0)})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center py-2 font-bold text-lg border-t-2",children:[l.jsx("span",{children:"Total"}),l.jsx("span",{className:"text-blue-600",children:formatCurrency(e.custoRealizado)})]})]})})]}),a&&(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)(d.Zb,{children:[l.jsx(d.Ol,{children:l.jsx(d.ll,{className:"text-sm",children:"Processos Ativos"})}),(0,l.jsxs)(d.aY,{children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.processosAtivos}),(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["de ",a.totalProcessos," total"]})]})]}),(0,l.jsxs)(d.Zb,{children:[l.jsx(d.Ol,{children:l.jsx(d.ll,{className:"text-sm",children:"Receptoras Ativas"})}),(0,l.jsxs)(d.aY,{children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.receptorasAtivas}),l.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Prenhas confirmadas"})]})]}),(0,l.jsxs)(d.Zb,{children:[l.jsx(d.Ol,{children:l.jsx(d.ll,{className:"text-sm",children:"Bezerros Esperados"})}),(0,l.jsxs)(d.aY,{children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:a.bezerrosEsperados}),l.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Pr\xf3ximos 9 meses"})]})]})]}),e?.faseSexagem?.receptoras&&(0,l.jsxs)(d.Zb,{children:[l.jsx(d.Ol,{children:l.jsx(d.ll,{children:"Cronograma de Partos"})}),l.jsx(d.aY,{children:l.jsx("div",{className:"space-y-3",children:e.faseSexagem.receptoras.map((e,a)=>(0,l.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx(N.Z,{className:"h-5 w-5 text-gray-700 dark:text-gray-300"}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"font-medium",children:e.codigo}),(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Sexo: ",e.sexo||"N\xe3o informado"]})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[l.jsx("p",{className:"font-medium",children:e.previsaoParto?new Date(e.previsaoParto).toLocaleDateString():"Data n\xe3o definida"}),l.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:e.previsaoParto?`${Math.ceil((new Date(e.previsaoParto)-new Date)/864e5)} dias`:""})]})]},a))})})]})]})},reproduction_CostSettings=({onClose:e})=>{let[a,s]=(0,o.useState)(m.costs),handleCostChange=(e,a)=>{s(s=>({...s,[e]:parseFloat(a)||0}))},formatCurrency=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0);return(0,l.jsxs)(d.Zb,{children:[l.jsx(d.Ol,{children:l.jsx(d.ll,{children:"Configura\xe7\xe3o de Custos"})}),(0,l.jsxs)(d.aY,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"coleta",children:"Custo da Coleta"}),l.jsx(h.I,{id:"coleta",type:"number",step:"0.01",value:a.coleta,onChange:e=>handleCostChange("coleta",e.target.value)})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"fiv",children:"Custo da FIV"}),l.jsx(h.I,{id:"fiv",type:"number",step:"0.01",value:a.fiv,onChange:e=>handleCostChange("fiv",e.target.value)})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"te",children:"Custo da TE"}),l.jsx(h.I,{id:"te",type:"number",step:"0.01",value:a.te,onChange:e=>handleCostChange("te",e.target.value)})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"dg",children:"Custo do DG"}),l.jsx(h.I,{id:"dg",type:"number",step:"0.01",value:a.dg,onChange:e=>handleCostChange("dg",e.target.value)})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"sexagem",children:"Custo da Sexagem"}),l.jsx(h.I,{id:"sexagem",type:"number",step:"0.01",value:a.sexagem,onChange:e=>handleCostChange("sexagem",e.target.value)})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"receptora",children:"Custo por Receptora"}),l.jsx(h.I,{id:"receptora",type:"number",step:"0.01",value:a.receptora,onChange:e=>handleCostChange("receptora",e.target.value)})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"frete",children:"Custo do Frete"}),l.jsx(h.I,{id:"frete",type:"number",step:"0.01",value:a.frete,onChange:e=>handleCostChange("frete",e.target.value)})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"veterinario",children:"Custo Veterin\xe1rio"}),l.jsx(h.I,{id:"veterinario",type:"number",step:"0.01",value:a.veterinario,onChange:e=>handleCostChange("veterinario",e.target.value)})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(Label,{htmlFor:"laboratorio",children:"Custo Laborat\xf3rio"}),l.jsx(h.I,{id:"laboratorio",type:"number",step:"0.01",value:a.laboratorio,onChange:e=>handleCostChange("laboratorio",e.target.value)})]})]}),(0,l.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium mb-2",children:"Resumo de Custos por Processo"}),(0,l.jsxs)("div",{className:"text-sm space-y-1",children:[(0,l.jsxs)("p",{children:["Custo m\xednimo por processo: ",formatCurrency(a.coleta+a.fiv+a.te+a.dg+3*a.veterinario+a.laboratorio)]}),(0,l.jsxs)("p",{children:["Custo com 1 receptora: ",formatCurrency(a.coleta+a.fiv+a.te+a.dg+a.receptora+a.frete+3*a.veterinario+a.laboratorio)]}),(0,l.jsxs)("p",{children:["Custo com sexagem: ",formatCurrency(a.coleta+a.fiv+a.te+a.dg+a.sexagem+a.receptora+a.frete+3*a.veterinario+a.laboratorio)]})]})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-2",children:[l.jsx(i.z,{variant:"outline",onClick:e,children:"Cancelar"}),l.jsx(i.z,{onClick:()=>{m.updateCosts(a),e()},children:"Salvar Configura\xe7\xf5es"})]})]})]})},y={nomeTouro:"",rg:"",raca:"",quantidadeDoses:"",valorIndividual:""},C={notaFiscal:"",fornecedor:"",valorTotal:"",data:"",observacoes:"",touros:[{...y}]},reproduction_SemenDoseForm=({initialData:e,onSubmit:a,onCancel:s})=>{let[t,r]=(0,o.useState)(C),[n,c]=(0,o.useState)({}),[x,m]=(0,o.useState)(""),[p,v]=(0,o.useState)(""),f=(0,o.useRef)(null);(0,o.useEffect)(()=>{e?r({notaFiscal:e.notaFiscal||"",fornecedor:e.fornecedor||"",valorTotal:e.valor||"",data:e.data||"",observacoes:e.observacoes||"",touros:[{nomeTouro:e.nomeTouro||"",rg:e.rg||"",raca:e.raca||"",quantidadeDoses:e.quantidadeDoses||"",valorIndividual:e.valor||""}]}):r(C),m(""),v("")},[e]);let handleInputChange=(e,a)=>{r(s=>({...s,[e]:a}))},handleTouroChange=(e,a,s)=>{let l=[...t.touros];l[e]={...l[e],[a]:s},r(e=>({...e,touros:l}))},removeTouro=e=>{t.touros.length>1&&r(a=>({...a,touros:a.touros.filter((a,s)=>s!==e)}))},validate=()=>{let e={};return t.notaFiscal||(e.notaFiscal="Obrigat\xf3rio"),t.fornecedor||(e.fornecedor="Obrigat\xf3rio"),t.data||(e.data="Obrigat\xf3rio"),t.touros[0].nomeTouro||(e.nomeTouro="Obrigat\xf3rio"),t.touros[0].quantidadeDoses||(e.quantidadeDoses="Obrigat\xf3rio"),c(e),e};return(0,l.jsxs)(d.Zb,{className:"mb-4",children:[l.jsx(d.Ol,{children:l.jsx(d.ll,{children:e?"Editar Dose":"Nova Dose"})}),l.jsx(d.aY,{children:(0,l.jsxs)("form",{onSubmit:s=>{s.preventDefault(),m(""),v("");let r=validate();if(Object.keys(r).length>0){f.current&&f.current.focus();return}try{a(t,!!e),m("Salvo com sucesso!")}catch(e){v("Erro ao salvar. Tente novamente.")}},"aria-label":"Formul\xe1rio de dose de s\xeamen",children:[x&&l.jsx("div",{className:"text-green-600 mb-2",role:"status",children:x}),p&&l.jsx("div",{className:"text-red-600 mb-2",role:"alert",children:p}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx(Label,{htmlFor:"notaFiscal",children:"Nota Fiscal"}),l.jsx(h.I,{id:"notaFiscal","aria-required":"true",value:t.notaFiscal,onChange:e=>handleInputChange("notaFiscal",e.target.value),ref:n.notaFiscal?f:null}),n.notaFiscal&&l.jsx("span",{className:"text-red-500 text-xs",role:"alert",children:n.notaFiscal})]}),(0,l.jsxs)("div",{children:[l.jsx(Label,{htmlFor:"fornecedor",children:"Fornecedor"}),l.jsx(h.I,{id:"fornecedor","aria-required":"true",value:t.fornecedor,onChange:e=>handleInputChange("fornecedor",e.target.value),ref:n.fornecedor&&!n.notaFiscal?f:null}),n.fornecedor&&l.jsx("span",{className:"text-red-500 text-xs",role:"alert",children:n.fornecedor})]}),(0,l.jsxs)("div",{children:[l.jsx(Label,{htmlFor:"valorTotal",children:"Valor Total"}),l.jsx(h.I,{id:"valorTotal",value:t.valorTotal,onChange:e=>handleInputChange("valorTotal",e.target.value),type:"number"})]}),(0,l.jsxs)("div",{children:[l.jsx(Label,{htmlFor:"data",children:"Data"}),l.jsx(h.I,{id:"data","aria-required":"true",value:t.data,onChange:e=>handleInputChange("data",e.target.value),type:"date",ref:!n.data||n.notaFiscal||n.fornecedor?null:f}),n.data&&l.jsx("span",{className:"text-red-500 text-xs",role:"alert",children:n.data})]}),(0,l.jsxs)("div",{className:"md:col-span-2",children:[l.jsx(Label,{htmlFor:"observacoes",children:"Observa\xe7\xf5es"}),l.jsx(u.g,{id:"observacoes",value:t.observacoes,onChange:e=>handleInputChange("observacoes",e.target.value)})]})]}),(0,l.jsxs)("div",{className:"mt-4",children:[l.jsx(Label,{className:"block mb-2",children:"Touros"}),t.touros.map((e,a)=>(0,l.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2 items-end",children:[l.jsx(h.I,{className:"w-1/4 min-w-[120px]",placeholder:"Nome do Touro",value:e.nomeTouro,onChange:e=>handleTouroChange(a,"nomeTouro",e.target.value),"aria-label":"Nome do Touro"}),l.jsx(h.I,{className:"w-1/6 min-w-[80px]",placeholder:"RG",value:e.rg,onChange:e=>handleTouroChange(a,"rg",e.target.value),"aria-label":"RG"}),l.jsx(h.I,{className:"w-1/6 min-w-[80px]",placeholder:"Ra\xe7a",value:e.raca,onChange:e=>handleTouroChange(a,"raca",e.target.value),"aria-label":"Ra\xe7a"}),l.jsx(h.I,{className:"w-1/6 min-w-[80px]",placeholder:"Qtd Doses",value:e.quantidadeDoses,onChange:e=>handleTouroChange(a,"quantidadeDoses",e.target.value),type:"number","aria-label":"Quantidade de Doses"}),l.jsx(h.I,{className:"w-1/6 min-w-[80px]",placeholder:"Valor Unit\xe1rio",value:e.valorIndividual,onChange:e=>handleTouroChange(a,"valorIndividual",e.target.value),type:"number","aria-label":"Valor Unit\xe1rio"}),l.jsx(i.z,{type:"button",variant:"destructive",onClick:()=>removeTouro(a),disabled:1===t.touros.length,"aria-label":"Remover touro",children:l.jsx(j.Z,{className:"w-4 h-4"})})]},a)),(0,l.jsxs)(i.z,{type:"button",variant:"outline",onClick:()=>{r(e=>({...e,touros:[...e.touros,{...y}]}))},className:"mt-2","aria-label":"Adicionar touro",children:[l.jsx(g.Z,{className:"w-4 h-4 mr-1"}),"Adicionar Touro"]})]}),(0,l.jsxs)("div",{className:"flex gap-2 mt-6",children:[l.jsx(i.z,{type:"submit",children:"Salvar"}),l.jsx(i.z,{type:"button",variant:"outline",onClick:s,children:"Cancelar"})]})]})})]})},reproduction_SemenDoseList=({doses:e,onEdit:a,onDelete:s,formatCurrency:t,getStatusColor:o})=>l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:e.map(e=>l.jsx(d.Zb,{className:"p-3","aria-label":`Dose de s\xeamen do touro ${e.nomeTouro}`,tabIndex:0,children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"font-bold text-sm",style:{color:"#111827"},children:e.nomeTouro}),(0,l.jsxs)("p",{className:"text-xs",style:{color:"#6b7280"},children:[e.raca," • RG: ",e.rg]})]}),(0,l.jsxs)("div",{className:"flex space-x-1",children:[l.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>a(e),className:"h-6 w-6 p-0","aria-label":`Editar dose do touro ${e.nomeTouro}`,children:l.jsx(r.EditIcon,{className:"h-3 w-3"})}),l.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>s(e.id),className:"text-red-600 hover:text-red-700 h-6 w-6 p-0","aria-label":`Remover dose do touro ${e.nomeTouro}`,children:l.jsx(j.Z,{className:"h-3 w-3"})})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{style:{color:"#6b7280"},children:"Fornecedor:"}),l.jsx("p",{style:{color:"#111827"},className:"truncate",children:e.fornecedor})]}),(0,l.jsxs)("div",{children:[l.jsx("p",{style:{color:"#6b7280"},children:"Valor:"}),l.jsx("p",{style:{color:"#111827"},children:t(e.valor)})]})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${o(e.quantidadeUsada||0,parseInt(e.quantidadeDoses))}`,"aria-label":"Status de uso"}),(0,l.jsxs)("span",{className:"text-xs",style:{color:"#111827"},children:[parseInt(e.quantidadeDoses)-(e.quantidadeUsada||0),"/",e.quantidadeDoses]})]}),(0,l.jsxs)(n.C,{variant:"outline",className:"text-xs px-1 py-0",children:[Math.round((e.quantidadeUsada||0)/parseInt(e.quantidadeDoses)*100),"%"]})]})]})},e.id))}),reproduction_SemenManager=()=>{let[e,a]=(0,o.useState)([]),[s,t]=(0,o.useState)(!1),[r,n]=(0,o.useState)(null);(0,o.useEffect)(()=>{loadSemenDoses()},[]);let loadSemenDoses=()=>{let e=v.getAllDoses();a(e)},formatCurrency=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0);return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold",style:{color:"#111827"},children:"Doses de S\xeamen"}),l.jsx(i.z,{onClick:()=>{t(!0),n(null)},children:"Adicionar Dose"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx(d.Zb,{className:"bg-blue-50 border-blue-200",children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm",style:{color:"#2563eb"},children:"Total de Lotes"}),l.jsx("p",{className:"text-2xl font-bold",style:{color:"#1e40af"},children:e.length})]})})}),l.jsx(d.Zb,{className:"bg-green-50 border-green-200",children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm",style:{color:"#16a34a"},children:"Doses Dispon\xedveis"}),l.jsx("p",{className:"text-2xl font-bold",style:{color:"#166534"},children:e.reduce((e,a)=>e+(parseInt(a.quantidadeDoses)-(a.quantidadeUsada||0)),0)})]})})}),l.jsx(d.Zb,{className:"bg-purple-50 border-purple-200",children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm",style:{color:"#9333ea"},children:"Touros Diferentes"}),l.jsx("p",{className:"text-2xl font-bold",style:{color:"#7c3aed"},children:new Set(e.map(e=>e.nomeTouro)).size})]})})}),l.jsx(d.Zb,{className:"bg-orange-50 border-orange-200",children:l.jsx(d.aY,{className:"pt-4",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm",style:{color:"#ea580c"},children:"Valor Total"}),l.jsx("p",{className:"text-lg font-bold",style:{color:"#c2410c"},children:formatCurrency(e.reduce((e,a)=>e+(parseFloat(a.valor)||0),0))})]})})})]}),l.jsx(reproduction_SemenDoseList,{doses:e,onEdit:e=>{n(e),t(!0)},onDelete:e=>{v.deleteDose(e),loadSemenDoses()},formatCurrency:formatCurrency,getStatusColor:(e,a)=>{let s=e/a*100;return 0===s?"bg-green-500":s<50?"bg-yellow-500":s<100?"bg-orange-500":"bg-red-500"}}),s&&l.jsx(reproduction_SemenDoseForm,{initialData:r,onSubmit:(e,a)=>{a&&r?v.updateDose(r.id,e):e.touros.forEach(a=>{let s={notaFiscal:e.notaFiscal,fornecedor:e.fornecedor,data:e.data,observacoes:e.observacoes,nomeTouro:a.nomeTouro,rg:a.rg,raca:a.raca,quantidadeDoses:a.quantidadeDoses,valor:a.valorIndividual||parseFloat(e.valorTotal)/e.touros.length};v.createDose(s)}),loadSemenDoses(),t(!1),n(null)},onCancel:()=>{t(!1),n(null)}})]})};var D=s(8383),z=s.n(D);let ProcessDetails=({process:e,onUpdate:a,onDelete:s})=>{let[t,r]=(0,o.useState)("coleta"),n=[{id:"coleta",name:"1\xaa Fase - Coleta",component:reproduction_FaseColeta},{id:"fiv",name:"2\xaa Fase - FIV",component:reproduction_FaseFIV},{id:"te",name:"3\xaa Fase - TE",component:reproduction_FaseTE},{id:"dg",name:"4\xaa Fase - DG",component:reproduction_FaseDG},{id:"sexagem",name:"5\xaa Fase - Sexagem",component:reproduction_FaseSexagem},{id:"entrega",name:"6\xaa Fase - Entrega",component:reproduction_FaseEntrega}],c=n.find(e=>e.id===t)?.component;return(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)(d.Zb,{children:[(0,l.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between",children:[(0,l.jsxs)(d.ll,{children:["Processo #",e.id]}),l.jsx(i.z,{variant:"destructive",size:"sm",onClick:s,children:"Excluir Processo"})]}),l.jsx(d.aY,{children:(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[(0,l.jsxs)("div",{children:[l.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Status:"}),l.jsx("div",{className:"font-semibold",children:"completed"===e.status?"Conclu\xeddo":"Em Andamento"})]}),(0,l.jsxs)("div",{children:[l.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Criado em:"}),l.jsx("div",{className:"font-semibold",children:new Date(e.createdAt).toLocaleDateString("pt-BR")})]}),(0,l.jsxs)("div",{children:[l.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Custo Total:"}),l.jsx("div",{className:"font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.custoTotal||0)})]})]})})]}),(0,l.jsxs)(d.Zb,{children:[l.jsx(d.Ol,{children:l.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(e=>l.jsx(i.z,{variant:t===e.id?"default":"outline",size:"sm",onClick:()=>r(e.id),className:"whitespace-nowrap",children:e.name},e.id))})}),l.jsx(d.aY,{children:c&&l.jsx(c,{process:e,onUpdate:a})})]})]})},components_ReproductionManager=()=>{let[e,a]=(0,o.useState)([]),[s,t]=(0,o.useState)(null),[r,h]=(0,o.useState)([]),[u,p]=(0,o.useState)(null),[g,j]=(0,o.useState)("process"),[v,f]=(0,o.useState)(!1),b=useIsClient(),{theme:N,toggleTheme:y}=useTheme();(0,o.useEffect)(()=>{if(b){loadData();let e=setInterval(loadData,3e4);return()=>clearInterval(e)}},[b]);let loadData=()=>{try{let e=m.getAllProcesses(),s=m.getAlerts(),t=m.getFinancialReport();a(e),h(s),p(t)}catch(e){console.error("Erro ao carregar dados:",e),localStorage.removeItem("reproduction_processes"),a([]),h([])}},createNewProcess=()=>{let e=m.createProcess();a(m.getAllProcesses()),t(e),j("process")},updateProcess=(e,s)=>{m.updateProcess(e,s),a(m.getAllProcesses());let r=m.getProcess(e);t(r),loadData()},deleteProcess=e=>{confirm("Tem certeza que deseja excluir este processo?")&&(m.deleteProcess(e),a(m.getAllProcesses()),s?.id===e&&t(null))},formatCurrency=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0),getPhaseStatus=(e,a)=>e[a]?.realizada?"completed":e[a]?"in-progress":"pending",getStatusColor=e=>{switch(e){case"completed":return"bg-green-500";case"in-progress":return"bg-yellow-500";default:return"bg-gray-300"}};return b?(0,l.jsxs)("div",{className:"p-6 space-y-6 text-gray-900 dark:text-gray-100",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Sistema de Reprodu\xe7\xe3o"}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[l.jsx(i.z,{variant:"process"===g?"default":"outline",onClick:()=>j("process"),children:"Processos"}),l.jsx(i.z,{variant:"semen"===g?"default":"outline",onClick:()=>j("semen"),children:"Doses de S\xeamen"}),l.jsx(i.z,{variant:"semen-stock"===g?"default":"outline",onClick:()=>j("semen-stock"),children:"\uD83E\uDDEC Estoque de S\xeamen"}),(0,l.jsxs)(i.z,{variant:"costs"===g?"default":"outline",onClick:()=>j("costs"),children:[l.jsx(c.Z,{className:"h-4 w-4 mr-2"}),"Custos"]}),l.jsx(i.z,{variant:"outline",onClick:()=>f(!0),children:"Configurar Custos"}),l.jsx(i.z,{variant:"outline",onClick:y,className:"flex items-center space-x-2",children:"dark"===N?"☀️":"\uD83C\uDF19"})]})]}),r.length>0&&l.jsx("div",{className:"space-y-2",children:r.map((e,a)=>(0,l.jsxs)(Alert,{className:`border-l-4 ${"high"===e.priority?"border-red-500 bg-red-50 dark:bg-red-900/20":"medium"===e.priority?"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20":"border-blue-500 bg-blue-50 dark:bg-blue-900/20"}`,children:[l.jsx(x.Z,{className:"h-4 w-4"}),(0,l.jsxs)(AlertDescription,{children:[l.jsx("strong",{children:e.title}),": ",e.message]})]},a))}),v?l.jsx(reproduction_CostSettings,{onClose:()=>{f(!1),loadData()}}):"semen"===g?l.jsx(reproduction_SemenManager,{}):"semen-stock"===g?l.jsx(z(),{}):"costs"===g?l.jsx(reproduction_CostDashboard,{process:s,financialReport:u}):(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-1",children:(0,l.jsxs)(d.Zb,{children:[(0,l.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsxs)(d.ll,{className:"text-lg font-medium",children:["Processos Ativos (",e.length,")"]}),l.jsx(i.z,{onClick:createNewProcess,size:"sm",children:"Novo Processo"})]}),l.jsx(d.aY,{className:"space-y-3",children:0===e.length?(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Nenhum processo ativo"}),l.jsx(i.z,{onClick:createNewProcess,children:"Criar Primeiro Processo"})]}):e.map(e=>(0,l.jsxs)("div",{className:`p-4 rounded-lg border cursor-pointer transition-colors ${s?.id===e.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,onClick:()=>t(e),children:[(0,l.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,l.jsxs)("h3",{className:"font-semibold",children:["Processo #",e.id]}),l.jsx(n.C,{variant:"completed"===e.status?"default":"secondary",children:"completed"===e.status?"Conclu\xeddo":"Em Andamento"})]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["Iniciado em"," ",new Date(e.createdAt).toLocaleDateString("pt-BR")]}),l.jsx("div",{className:"flex space-x-1",children:["coleta","fiv","te","dg","sexagem","entrega"].map(a=>l.jsx("div",{className:`w-3 h-3 rounded-full ${getStatusColor(getPhaseStatus(e,a))}`,title:a},a))}),(0,l.jsxs)("div",{className:"mt-2 text-sm",children:[(0,l.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:["Custo Total:"," "]}),l.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:formatCurrency(e.custoTotal||0)})]})]},e.id))})]})}),l.jsx("div",{className:"lg:col-span-2",children:s?l.jsx(ProcessDetails,{process:s,onUpdate:e=>updateProcess(s.id,e),onDelete:()=>deleteProcess(s.id)}):l.jsx(d.Zb,{children:l.jsx(d.aY,{className:"flex items-center justify-center h-96",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDC04"}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Selecione um Processo"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Escolha um processo da lista para visualizar os detalhes das fases"}),0===e.length&&l.jsx(i.z,{onClick:createNewProcess,children:"Criar Primeiro Processo"})]})})})})]})]}):l.jsx("div",{className:"p-6 space-y-6 text-gray-900 dark:text-gray-100",children:l.jsx("div",{className:"flex justify-center items-center h-64",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 dark:border-blue-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Carregando sistema de reprodu\xe7\xe3o..."})]})})})}},8383:()=>{throw Error("Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\nError: \n  \x1b[38;2;255;30;30m\xd7\x1b[0m Expression expected\n      ╭─[\x1b[38;2;92;157;255;1;4mC:\\Users\\zeca8\\OneDrive\\Documentos\\Sistemas\\Beef-Sync\\Beef-Sync\\components\\reproduction\\SemenStockManager.js\x1b[0m:1038:1]\n \x1b[2m1038\x1b[0m │       {showReports && (\n \x1b[2m1039\x1b[0m │         <SemenReports onClose={() => setShowReports(false)} />\n \x1b[2m1040\x1b[0m │       )}\n \x1b[2m1041\x1b[0m │     </div>\n      \xb7 \x1b[38;2;246;87;248m     ─\x1b[0m\n \x1b[2m1042\x1b[0m │   );\n \x1b[2m1043\x1b[0m │ };\n \x1b[2m1043\x1b[0m │ \r\n      ╰────\n\n  \x1b[38;2;255;30;30m\xd7\x1b[0m Expression expected\n      ╭─[\x1b[38;2;92;157;255;1;4mC:\\Users\\zeca8\\OneDrive\\Documentos\\Sistemas\\Beef-Sync\\Beef-Sync\\components\\reproduction\\SemenStockManager.js\x1b[0m:1038:1]\n \x1b[2m1038\x1b[0m │       {showReports && (\n \x1b[2m1039\x1b[0m │         <SemenReports onClose={() => setShowReports(false)} />\n \x1b[2m1040\x1b[0m │       )}\n \x1b[2m1041\x1b[0m │     </div>\n      \xb7 \x1b[38;2;246;87;248m      ───\x1b[0m\n \x1b[2m1042\x1b[0m │   );\n \x1b[2m1043\x1b[0m │ };\n \x1b[2m1043\x1b[0m │ \r\n      ╰────\n\n\nCaused by:\n    Syntax Error")},3777:(e,a,s)=>{"use strict";s.d(a,{C:()=>Badge});var t=s(997);s(6689);let Badge=({children:e,variant:a="default",className:s="",...r})=>t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium transition-colors ${{default:"bg-blue-600 text-white dark:bg-blue-500 dark:text-white",outline:"border border-gray-300 bg-transparent text-gray-700 dark:border-gray-600 dark:text-gray-300",success:"bg-green-600 text-white dark:bg-green-500 dark:text-white",warning:"bg-yellow-600 text-white dark:bg-yellow-500 dark:text-white",error:"bg-red-600 text-white dark:bg-red-500 dark:text-white",secondary:"bg-gray-600 text-white dark:bg-gray-500 dark:text-white"}[a]} ${s}`,...r,children:e})}};