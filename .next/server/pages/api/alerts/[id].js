"use strict";(()=>{var e={};e.id=8510,e.ids=[8510],e.modules={3524:e=>{e.exports=require("@prisma/client")},9344:e=>{e.exports=require("jsonwebtoken")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6301:(e,a,t)=>{t.r(a),t.d(a,{config:()=>c,default:()=>u,routeModule:()=>p});var r={};t.r(r),t.d(r,{default:()=>d});var s=t(1802),o=t(7153),l=t(8781),i=t(7864),n=t(9823);async function handler(e,a){let{method:t,query:r}=e,{id:s}=r,o=e.user.id;switch(t){case"PUT":try{let{status:t}=e.body,r=await i._.alert.findFirst({where:{id:s,userId:o}});if(!r)return a.status(404).json({message:"Alerta n\xe3o encontrado"});let l=await i._.alert.update({where:{id:s},data:{status:t||r.status}});a.status(200).json(l)}catch(e){console.error("Update alert error:",e),a.status(500).json({message:"Erro ao atualizar alerta"})}break;case"DELETE":try{let e=await i._.alert.findFirst({where:{id:s,userId:o}});if(!e)return a.status(404).json({message:"Alerta n\xe3o encontrado"});await i._.alert.delete({where:{id:s}}),a.status(200).json({message:"Alerta removido com sucesso"})}catch(e){console.error("Delete alert error:",e),a.status(500).json({message:"Erro ao remover alerta"})}break;default:a.setHeader("Allow",["PUT","DELETE"]),a.status(405).end(`Method ${t} Not Allowed`)}}let d=(0,n.QO)(handler),u=(0,l.l)(r,"default"),c=(0,l.l)(r,"config"),p=new s.PagesAPIRouteModule({definition:{kind:o.x.PAGES_API,page:"/api/alerts/[id]",pathname:"/api/alerts/[id]",bundlePath:"",filename:""},userland:r})}};var a=require("../../../webpack-api-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),t=a.X(0,[4222,9823],()=>__webpack_exec__(6301));module.exports=t})();