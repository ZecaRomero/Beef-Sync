"use strict";(()=>{var e={};e.id=3950,e.ids=[3950],e.modules={3524:e=>{e.exports=require("@prisma/client")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},4645:(e,o,a)=>{a.r(o),a.d(o,{config:()=>d,default:()=>i,routeModule:()=>c});var s={};a.r(s),a.d(s,{default:()=>handler});var r=a(1802),t=a(7153),n=a(6249),l=a(7864);async function handler(e,o){if("POST"!==e.method)return o.status(405).json({message:"Method not allowed"});try{console.log("=== CRIANDO EVENTO DE LEIL\xc3O ==="),console.log("Dados recebidos:",e.body);let{nome:a,tipo:s,data:r,local:t,descricao:n,comissao:i,taxas:d,observacoes:c}=e.body,u="cmdqdvq8n0000h9l829787qv8",m=await l._.user.findUnique({where:{id:u}});if(!m)return console.error("Usu\xe1rio n\xe3o encontrado:",u),o.status(404).json({message:"Usu\xe1rio n\xe3o encontrado"});console.log("Usu\xe1rio encontrado:",m.email);let p={nome:a||"Leil\xe3o",tipo:s||"LEILAO",data:new Date(r),local:t||"",descricao:n||"",comissao:i?parseFloat(i):null,taxas:d?parseFloat(d):null,observacoes:c||"",userId:u};console.log("Dados para criar evento:",p);let v=await l._.saleEvent.create({data:p});console.log("Evento criado com sucesso:",v),o.status(201).json(v)}catch(e){console.error("Erro detalhado ao criar evento:",e),o.status(500).json({message:"Erro ao criar evento: "+e.message,code:e.code,meta:e.meta})}}let i=(0,n.l)(s,"default"),d=(0,n.l)(s,"config"),c=new r.PagesAPIRouteModule({definition:{kind:t.x.PAGES_API,page:"/api/sale-events-simple",pathname:"/api/sale-events-simple",bundlePath:"",filename:""},userland:s})},7864:(e,o,a)=>{a.d(o,{_:()=>t});var s=a(3524);let r=globalThis,t=r.prisma||new s.PrismaClient}};var o=require("../../webpack-api-runtime.js");o.C(e);var __webpack_exec__=e=>o(o.s=e),a=o.X(0,[4222],()=>__webpack_exec__(4645));module.exports=a})();