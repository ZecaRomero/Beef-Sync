"use strict";(()=>{var e={};e.id=126,e.ids=[126],e.modules={3524:e=>{e.exports=require("@prisma/client")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},7618:e=>{e.exports=import("bcryptjs")},490:(e,a,s)=>{s.a(e,async(e,r)=>{try{s.r(a),s.d(a,{config:()=>m,default:()=>d,routeModule:()=>u});var o=s(1802),t=s(7153),i=s(6249),n=s(6445),l=e([n]);n=(l.then?(await l)():l)[0];let d=(0,i.l)(n,"default"),m=(0,i.l)(n,"config"),u=new o.PagesAPIRouteModule({definition:{kind:t.x.PAGES_API,page:"/api/create-users",pathname:"/api/create-users",bundlePath:"",filename:""},userland:n});r()}catch(e){r(e)}})},7864:(e,a,s)=>{s.d(a,{_:()=>t});var r=s(3524);let o=globalThis,t=o.prisma||new r.PrismaClient},6445:(e,a,s)=>{s.a(e,async(e,r)=>{try{s.r(a),s.d(a,{default:()=>handler});var o=s(7864),t=s(7618),i=e([t]);async function handler(e,a){if("POST"!==e.method)return a.status(405).json({message:"Method not allowed"});try{let e=await o._.user.findMany({where:{email:{in:["Bento@fazenda.com","Nilson@fazenda.com"]}}});if(e.length>0)return a.status(400).json({message:"Usu\xe1rios j\xe1 existem",existing:e.map(e=>e.email)});let s=[{email:"Bento@fazenda.com",name:"Bento (Dono)",password:await t.default.hash("Bento123",10),role:"OWNER"},{email:"Nilson@fazenda.com",name:"Nilson (Gerente)",password:await t.default.hash("Nilson123",10),role:"MANAGER"}],r=await Promise.all(s.map(e=>o._.user.create({data:e})));a.status(201).json({message:"Usu\xe1rios criados com sucesso",users:r.map(e=>({id:e.id,email:e.email,name:e.name,role:e.role})),credentials:[{email:"Bento@fazenda.com",password:"Bento123",role:"Dono"},{email:"Nilson@fazenda.com",password:"Nilson123",role:"Gerente"}]})}catch(e){console.error("Erro ao criar usu\xe1rios:",e),a.status(500).json({message:"Erro ao criar usu\xe1rios"})}}t=(i.then?(await i)():i)[0],r()}catch(e){r(e)}})}};var a=require("../../webpack-api-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),s=a.X(0,[4222],()=>__webpack_exec__(490));module.exports=s})();