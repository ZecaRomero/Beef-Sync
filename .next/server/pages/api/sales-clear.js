"use strict";(()=>{var e={};e.id=8961,e.ids=[8961],e.modules={3524:e=>{e.exports=require("@prisma/client")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},9781:(e,a,s)=>{s.r(a),s.d(a,{config:()=>d,default:()=>o,routeModule:()=>u});var t={};s.r(t),s.d(t,{default:()=>handler});var r=s(1802),l=s(7153),i=s(8781),n=s(7864);async function handler(e,a){if("DELETE"!==e.method)return a.status(405).json({message:"Method not allowed"});try{let e=await n._.sale.count();await n._.sale.deleteMany({}),await n._.saleEvent.deleteMany({}),await n._.animal.updateMany({where:{status:"VENDIDO"},data:{status:"ATIVO"}}),a.status(200).json({message:`${e} vendas removidas com sucesso`,salesDeleted:e})}catch(e){console.error("Erro ao limpar vendas:",e),a.status(500).json({message:"Erro ao limpar vendas"})}}let o=(0,i.l)(t,"default"),d=(0,i.l)(t,"config"),u=new r.PagesAPIRouteModule({definition:{kind:l.x.PAGES_API,page:"/api/sales-clear",pathname:"/api/sales-clear",bundlePath:"",filename:""},userland:t})},7864:(e,a,s)=>{s.d(a,{_:()=>l});var t=s(3524);let r=globalThis,l=r.prisma||new t.PrismaClient}};var a=require("../../webpack-api-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),s=a.X(0,[4222],()=>__webpack_exec__(9781));module.exports=s})();