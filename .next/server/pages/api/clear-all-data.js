"use strict";(()=>{var e={};e.id=4168,e.ids=[4168],e.modules={3524:e=>{e.exports=require("@prisma/client")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},3341:(e,a,t)=>{t.r(a),t.d(a,{config:()=>d,default:()=>r,routeModule:()=>c});var l={};t.r(l),t.d(l,{default:()=>handler});var i=t(1802),o=t(7153),n=t(6249),s=t(7864);async function handler(e,a){if("DELETE"!==e.method)return a.status(405).json({message:"Method not allowed"});try{console.log("\uD83E\uDDF9 Iniciando limpeza completa do banco de dados..."),await s._.invoiceAnimal.deleteMany({}),await s._.weight.deleteMany({}),await s._.cost.deleteMany({}),await s._.gestation.deleteMany({}),await s._.sale.deleteMany({});let e=await s._.animal.count();await s._.animal.deleteMany({});let t=await s._.invoice.count();await s._.invoice.deleteMany({});let l=await s._.saleEvent.count();await s._.saleEvent.deleteMany({});let i=await s._.gta.count();await s._.gta.deleteMany({});let o=await s._.alert.count();await s._.alert.deleteMany({});let n=await s._.marketPrice.count();await s._.marketPrice.deleteMany({}),console.log("✅ Limpeza completa finalizada!"),a.status(200).json({message:"Todos os dados foram removidos com sucesso!",summary:{animalsDeleted:e,invoicesDeleted:t,saleEventsDeleted:l,gtasDeleted:i,alertsDeleted:o,marketPricesDeleted:n}})}catch(e){console.error("❌ Erro ao limpar dados:",e),a.status(500).json({message:"Erro ao limpar dados",error:e.message})}}let r=(0,n.l)(l,"default"),d=(0,n.l)(l,"config"),c=new i.PagesAPIRouteModule({definition:{kind:o.x.PAGES_API,page:"/api/clear-all-data",pathname:"/api/clear-all-data",bundlePath:"",filename:""},userland:l})},7864:(e,a,t)=>{t.d(a,{_:()=>o});var l=t(3524);let i=globalThis,o=i.prisma||new l.PrismaClient}};var a=require("../../webpack-api-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),t=a.X(0,[4222],()=>__webpack_exec__(3341));module.exports=t})();