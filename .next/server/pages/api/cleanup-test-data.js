"use strict";(()=>{var e={};e.id=3526,e.ids=[3526],e.modules={3524:e=>{e.exports=require("@prisma/client")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},7754:(e,a,t)=>{t.r(a),t.d(a,{config:()=>l,default:()=>d,routeModule:()=>c});var i={};t.r(i),t.d(i,{default:()=>handler});var n=t(1802),s=t(7153),o=t(8781),r=t(7864);async function handler(e,a){if("DELETE"!==e.method)return a.status(405).json({message:"Method not allowed"});try{let e=await r._.animal.findMany({where:{OR:[{serie:"BENT"},{brinco:{contains:"BENT"}},{nome:{contains:"Teste"}},{observacoes:{contains:"teste"}},{observacoes:{contains:"mock"}},{observacoes:{contains:"fict\xedcio"}}]}});if(console.log("Animais fict\xedcios encontrados:",e.length),e.length>0){let a=e.map(e=>e.id);await r._.cost.deleteMany({where:{animalId:{in:a}}}),await r._.weight.deleteMany({where:{animalId:{in:a}}}),await r._.gestation.deleteMany({where:{animalId:{in:a}}}),await r._.animal.deleteMany({where:{id:{in:a}}})}let t=await r._.marketPrice.findMany({where:{createdAt:{lt:new Date(Date.now()-6048e5)}}});t.length>0&&await r._.marketPrice.deleteMany({where:{id:{in:t.map(e=>e.id)}}}),a.status(200).json({message:"Dados de teste removidos com sucesso",animalsDeleted:e.length,oldPricesDeleted:t.length})}catch(e){console.error("Erro ao limpar dados de teste:",e),a.status(500).json({message:"Erro ao limpar dados de teste"})}}let d=(0,o.l)(i,"default"),l=(0,o.l)(i,"config"),c=new n.PagesAPIRouteModule({definition:{kind:s.x.PAGES_API,page:"/api/cleanup-test-data",pathname:"/api/cleanup-test-data",bundlePath:"",filename:""},userland:i})},7864:(e,a,t)=>{t.d(a,{_:()=>s});var i=t(3524);let n=globalThis,s=n.prisma||new i.PrismaClient}};var a=require("../../webpack-api-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),t=a.X(0,[4222],()=>__webpack_exec__(7754));module.exports=t})();