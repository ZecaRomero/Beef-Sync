"use strict";(()=>{var e={};e.id=7007,e.ids=[7007],e.modules={3524:e=>{e.exports=require("@prisma/client")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},7618:e=>{e.exports=import("bcryptjs")},9654:(e,a,r)=>{r.a(e,async(e,s)=>{try{r.r(a),r.d(a,{config:()=>l,default:()=>d,routeModule:()=>c});var t=r(1802),i=r(7153),n=r(8781),o=r(2917),u=e([o]);o=(u.then?(await u)():u)[0];let d=(0,n.l)(o,"default"),l=(0,n.l)(o,"config"),c=new t.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/auth/register",pathname:"/api/auth/register",bundlePath:"",filename:""},userland:o});s()}catch(e){s(e)}})},7864:(e,a,r)=>{r.d(a,{_:()=>i});var s=r(3524);let t=globalThis,i=t.prisma||new s.PrismaClient},2917:(e,a,r)=>{r.a(e,async(e,s)=>{try{r.r(a),r.d(a,{default:()=>handler});var t=r(7618),i=r(7864),n=e([t]);async function handler(e,a){if("POST"!==e.method)return a.status(405).json({message:"Method not allowed"});try{let{email:r,password:s,name:n}=e.body;if(!r||!s)return a.status(400).json({message:"Email e senha s\xe3o obrigat\xf3rios"});let o=await i._.user.findUnique({where:{email:r}});if(o)return a.status(400).json({message:"Usu\xe1rio j\xe1 existe"});let u=await t.default.hash(s,12),d=await i._.user.create({data:{email:r,password:u,name:n||null}});a.status(201).json({message:"Usu\xe1rio criado com sucesso",user:{id:d.id,email:d.email,name:d.name}})}catch(e){console.error("Register error:",e),a.status(500).json({message:"Erro interno do servidor"})}}t=(n.then?(await n)():n)[0],s()}catch(e){s(e)}})}};var a=require("../../../webpack-api-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),r=a.X(0,[4222],()=>__webpack_exec__(9654));module.exports=r})();