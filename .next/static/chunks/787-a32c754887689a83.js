"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[787],{7787:function(e,a,t){t.d(a,{Z:function(){return Layout}});var r=t(5893),s=t(7294),i=t(1664),o=t.n(i),l=t(1163),d=t(4295),n=t.n(d);let exportToExcel=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"beef_sync_export";try{let t=new(n()).Workbook,r=t.addWorksheet("Animais");r.columns=[{header:"ID",key:"ID",width:8},{header:"S\xe9rie",key:"S\xe9rie",width:10},{header:"RG",key:"RG",width:10},{header:"Sexo",key:"Sexo",width:10},{header:"Ra\xe7a",key:"Ra\xe7a",width:12},{header:"Data Nascimento",key:"Data Nascimento",width:15},{header:"Idade (meses)",key:"Idade (meses)",width:12},{header:"Situa\xe7\xe3o",key:"Situa\xe7\xe3o",width:12},{header:"Custo Total (R$)",key:"Custo Total (R$)",width:15},{header:"Valor Venda (R$)",key:"Valor Venda (R$)",width:15},{header:"Valor Real (R$)",key:"Valor Real (R$)",width:15},{header:"Pai",key:"Pai",width:12},{header:"M\xe3e",key:"M\xe3e",width:12},{header:"Av\xf4 Materno",key:"Av\xf4 Materno",width:12},{header:"Receptora",key:"Receptora",width:12},{header:"\xc9 FIV",key:"\xc9 FIV",width:8},{header:"Qtd Custos",key:"Qtd Custos",width:10}],e.forEach(e=>{r.addRow(e)});let s=r.getRow(1);s.eachCell(e=>{e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF4472C4"}},e.font={color:{argb:"FFFFFFFF"},bold:!0},e.alignment={horizontal:"center",vertical:"middle"},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),r.eachRow((e,a)=>{a>1&&e.eachCell(e=>{e.alignment={horizontal:"center",vertical:"middle"},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})});let i=await t.xlsx.writeBuffer(),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),l=window.URL.createObjectURL(o),d=document.createElement("a");return d.href=l,d.download="".concat(a,".xlsx"),document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(l),!0}catch(e){return console.error("Erro ao exportar para Excel:",e),!1}};var c=t(9577),x=t(2237),m=t(2268),h=t(63),g=t(8680),u=t(3658),y=t(7272),b=t(3448),f=t(9633),p=t(434),k=t(9927),N=t(6249),v=t(5263),w=t(1415);let j=[{name:"Dashboard",href:"/",icon:x.Z},{name:"Editar Animal",href:"/animals",icon:m.Z},{name:"Reprodu\xe7\xe3o",href:"/reproduction",icon:h.Z},{name:"Gesta\xe7\xf5es",href:"/gestacao",icon:g.Z},{name:"Relat\xf3rios Gr\xe1ficos",href:"/reports",icon:u.Z},{name:"Configura\xe7\xf5es",href:"/settings",icon:y.Z}],D=[{name:"Novo Registro",icon:g.Z,action:"new"},{name:"Calcular Custo",icon:b.Z,action:"calculate"},{name:"Buscar Animal",icon:f.Z,action:"search"},{name:"Ver Gr\xe1ficos",icon:u.Z,action:"charts"},{name:"Exportar Excel",icon:p.Z,action:"export"},{name:"Importar Excel",icon:k.Z,action:"import"},{name:"Limpar Campos",icon:N.Z,action:"clear"},{name:"Salvar Dados",icon:v.Z,action:"save"}];function Sidebar(e){let{isOpen:a,setIsOpen:t}=e,i=(0,l.useRouter)(),[d,n]=(0,s.useState)(!1),[x,m]=(0,s.useState)(""),showNotificationMessage=e=>{m(e),n(!0),setTimeout(()=>n(!1),3e3)},handleQuickAction=e=>{switch(e){case"new":i.push("/animals"),showNotificationMessage("Redirecionando para cadastro de novo animal...");break;case"calculate":showNotificationMessage("Calculando custos de todos os animais..."),setTimeout(()=>{showNotificationMessage("C\xe1lculo de custos conclu\xeddo!")},2e3);break;case"search":i.push("/animals"),showNotificationMessage("Abrindo busca de animais...");break;case"charts":i.push("/reports"),showNotificationMessage("Carregando relat\xf3rios gr\xe1ficos...");break;case"export":showNotificationMessage("Exportando dados para Excel...");try{exportToExcel([],"beef_sync_animais_".concat(new Date().toISOString().split("T")[0])).then(e=>{e?setTimeout(()=>{showNotificationMessage("✅ Arquivo Excel exportado com sucesso!")},1e3):setTimeout(()=>{showNotificationMessage("❌ Erro ao exportar arquivo Excel")},1e3)}).catch(e=>{console.error("Erro na exporta\xe7\xe3o:",e),setTimeout(()=>{showNotificationMessage("❌ Erro ao exportar arquivo Excel")},1e3)})}catch(e){console.error("Erro na exporta\xe7\xe3o:",e),setTimeout(()=>{showNotificationMessage("❌ Erro ao exportar arquivo Excel")},1e3)}break;case"import":i.push("/animals?openImporter=true"),showNotificationMessage("\uD83D\uDE80 Redirecionando para importa\xe7\xe3o de animais...");break;case"clear":confirm("Tem certeza que deseja limpar todos os campos?")&&showNotificationMessage("Campos limpos com sucesso!");break;case"save":showNotificationMessage("Salvando dados..."),setTimeout(()=>{showNotificationMessage("Dados salvos com sucesso!")},1500);break;default:showNotificationMessage("A\xe7\xe3o n\xe3o implementada")}};return(0,r.jsxs)(r.Fragment,{children:[a&&(0,r.jsx)("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>t(!1)}),(0,r.jsxs)("div",{className:"\n        fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0\n        ".concat(a?"translate-x-0":"-translate-x-full","\n      "),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:"\uD83D\uDC2E Beef_Sync"}),(0,r.jsx)("button",{onClick:()=>t(!1),className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,r.jsx)(w.Z,{className:"h-6 w-6"})})]}),(0,r.jsx)("nav",{className:"mt-5 px-2 space-y-1",children:j.map(e=>{let a=i.pathname===e.href;return(0,r.jsxs)(o(),{href:e.href,className:"\n                  group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors\n                  ".concat(a?"bg-primary-100 dark:bg-primary-900 text-primary-900 dark:text-primary-100":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white","\n                "),children:[(0,r.jsx)(e.icon,{className:"mr-3 h-6 w-6"}),e.name]},e.name)})}),(0,r.jsx)("div",{className:"mt-6 px-2",children:(0,r.jsx)(c.Z,{})}),(0,r.jsxs)("div",{className:"mt-8 px-2",children:[(0,r.jsx)("h3",{className:"px-2 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"A\xe7\xf5es R\xe1pidas"}),(0,r.jsx)("div",{className:"mt-2 space-y-1",children:D.map(e=>(0,r.jsxs)("button",{onClick:()=>handleQuickAction(e.action),className:"group flex items-center w-full px-2 py-2 text-sm font-medium text-gray-600 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white transition-colors",children:[(0,r.jsx)(e.icon,{className:"mr-3 h-5 w-5"}),e.name]},e.name))})]})]}),d&&(0,r.jsx)("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg transition-all duration-300",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"mr-2",children:"✅"}),(0,r.jsx)("div",{className:"text-sm font-medium",children:x})]})})]})}var C=t(3407),R=t(4346),E=t(3771),M=t(97),A=t(8565);function Header(e){let{darkMode:a,toggleDarkMode:t,setSidebarOpen:i,onLogout:o}=e,[l,d]=(0,s.useState)(!1),[n,c]=(0,s.useState)({name:"Usu\xe1rio",role:"Administrador",avatar:null});return(0,s.useEffect)(()=>{c({name:localStorage.getItem("beef_sync_user_name")||"Usu\xe1rio",role:localStorage.getItem("beef_sync_user_role")||"Administrador",avatar:null})},[]),(0,r.jsx)("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16 px-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("button",{onClick:()=>i(!0),className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,r.jsx)(C.Z,{className:"h-6 w-6"})}),(0,r.jsx)("div",{className:"ml-4 lg:ml-0",children:(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sistema de Gest\xe3o Bovina"})})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("button",{onClick:t,className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700",children:a?(0,r.jsx)(R.Z,{className:"h-6 w-6"}):(0,r.jsx)(E.Z,{className:"h-6 w-6"})}),(0,r.jsx)(A.Z,{}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>d(!l),className:"flex items-center space-x-2 p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,r.jsx)(M.Z,{className:"h-8 w-8"}),(0,r.jsxs)("div",{className:"hidden md:block text-left",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:n.name}),(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:n.role})]})]}),l&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg py-1 z-50 border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Perfil"}),(0,r.jsx)("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Configura\xe7\xf5es"}),(0,r.jsx)("hr",{className:"my-1 border-gray-200 dark:border-gray-700"}),(0,r.jsx)("button",{onClick:()=>{d(!1),o&&o()},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Sair"})]})]})]})]})})}var S=t(9630);function Layout(e){let{children:a,onLogout:t}=e,[i,o]=(0,s.useState)(!1),{state:l,actions:d}=(0,S.qD)();return(0,r.jsxs)("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[(0,r.jsx)(Sidebar,{isOpen:i,setIsOpen:o}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,r.jsx)(Header,{darkMode:"dark"===l.theme,toggleDarkMode:d.toggleTheme,setSidebarOpen:o,onLogout:t}),(0,r.jsx)("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 dark:bg-gray-900 p-6",children:a})]})]})}},8565:function(e,a,t){t.d(a,{Z:function(){return NotificationSystem}});var r=t(5893),s=t(7294);function NotificationSystem(e){let{userId:a}=e,[t,i]=(0,s.useState)([]),[o,l]=(0,s.useState)({salesAlerts:!0,priceAlerts:!0,marketAlerts:!0,weeklyReports:!0,pushNotifications:!0,emailNotifications:!0,whatsappNotifications:!0});(0,s.useEffect)(()=>{loadNotifications();let e=setInterval(()=>{addRandomNotification()},45e3);return()=>clearInterval(e)},[]);let loadNotifications=async()=>{try{i([])}catch(e){console.error("Erro ao carregar notifica\xe7\xf5es:",e),i([])}},addRandomNotification=()=>{},requestNotificationPermission=async()=>{if("Notification"in window){let e=await Notification.requestPermission();"granted"===e&&alert("Notifica\xe7\xf5es ativadas! \uD83D\uDD14")}},markAsRead=e=>{i(a=>a.map(a=>a.id===e?{...a,read:!0}:a))},deleteNotification=e=>{i(a=>a.filter(a=>a.id!==e))},getPriorityColor=e=>{switch(e){case"high":return"border-red-500 bg-red-50 dark:bg-red-900/20";case"medium":return"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20";case"low":return"border-blue-500 bg-blue-50 dark:bg-blue-900/20";default:return"border-gray-500 bg-gray-50 dark:bg-gray-700"}},formatTimeAgo=e=>{let a=new Date,t=new Date(e),r=Math.floor((a-t)/6e4);return r<1?"Agora":r<60?"".concat(r,"min atr\xe1s"):r<1440?"".concat(Math.floor(r/60),"h atr\xe1s"):"".concat(Math.floor(r/1440),"d atr\xe1s")},d=t.filter(e=>!e.read).length;return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"\uD83D\uDD14 Notifica\xe7\xf5es"}),d>0&&(0,r.jsx)("div",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:d})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:requestNotificationPermission,className:"text-sm bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-lg transition-colors",children:"\uD83D\uDD14 Ativar Push"}),d>0&&(0,r.jsx)("button",{onClick:()=>{i(e=>e.map(e=>({...e,read:!0})))},className:"text-sm bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded-lg transition-colors",children:"✅ Marcar Todas"})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-6",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3",children:"⚙️ Configura\xe7\xf5es R\xe1pidas"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{key:"salesAlerts",label:"Vendas",icon:"\uD83D\uDCB0"},{key:"priceAlerts",label:"Pre\xe7os",icon:"\uD83D\uDCC8"},{key:"marketAlerts",label:"Mercado",icon:"\uD83D\uDCCA"},{key:"weeklyReports",label:"Relat\xf3rios",icon:"\uD83D\uDCCB"}].map(e=>(0,r.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:o[e.key],onChange:a=>l({...o,[e.key]:a.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.icon," ",e.label]})]},e.key))})]}),(0,r.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:0===t.length?(0,r.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,r.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDD15"}),(0,r.jsx)("p",{children:"Nenhuma notifica\xe7\xe3o"})]}):t.map(e=>(0,r.jsx)("div",{className:"p-4 rounded-lg border-l-4 transition-all hover:shadow-md ".concat(e.read?"bg-gray-50 dark:bg-gray-700 opacity-75":getPriorityColor(e.priority)),children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-3 flex-1",children:[(0,r.jsx)("div",{className:"text-2xl",children:e.icon}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:e.title}),!e.read&&(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.message}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400",children:[(0,r.jsx)("span",{children:formatTimeAgo(e.timestamp)}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full ".concat("high"===e.priority?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":"medium"===e.priority?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"),children:"high"===e.priority?"Alta":"medium"===e.priority?"M\xe9dia":"Baixa"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[!e.read&&(0,r.jsx)("button",{onClick:()=>markAsRead(e.id),className:"text-blue-500 hover:text-blue-700 text-sm",title:"Marcar como lida",children:"✅"}),(0,r.jsx)("button",{onClick:()=>deleteNotification(e.id),className:"text-red-500 hover:text-red-700 text-sm",title:"Excluir",children:"\uD83D\uDDD1️"})]})]})},e.id))}),(0,r.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,r.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t.length}),(0,r.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total"})]}),(0,r.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:d}),(0,r.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"N\xe3o Lidas"})]}),(0,r.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:t.filter(e=>"high"===e.priority).length}),(0,r.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Urgentes"})]})]})})]})}}}]);