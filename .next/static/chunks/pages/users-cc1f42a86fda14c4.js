(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[892],{7476:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users",function(){return t(6917)}])},3777:function(e,r,t){"use strict";t.d(r,{C:function(){return Badge}});var s=t(5893);t(7294);let Badge=e=>{let{children:r,variant:t="default",className:a="",...l}=e;return(0,s.jsx)("span",{className:"".concat("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium transition-colors"," ").concat({default:"bg-blue-600 text-white dark:bg-blue-500 dark:text-white",outline:"border border-gray-300 bg-transparent text-gray-700 dark:border-gray-600 dark:text-gray-300",success:"bg-green-600 text-white dark:bg-green-500 dark:text-white",warning:"bg-yellow-600 text-white dark:bg-yellow-500 dark:text-white",error:"bg-red-600 text-white dark:bg-red-500 dark:text-white",secondary:"bg-gray-600 text-white dark:bg-gray-500 dark:text-white"}[t]," ").concat(a),...l,children:r})}},4491:function(e,r,t){"use strict";t.d(r,{z:function(){return Button}});var s=t(5893);t(7294);let Button=e=>{let{children:r,variant:t="default",size:a="default",className:l="",disabled:n=!1,type:d="button",...i}=e;return(0,s.jsx)("button",{type:d,className:"".concat("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none"," ").concat({default:"bg-blue-600 dark:bg-blue-500 text-white hover:bg-blue-700 dark:hover:bg-blue-600 font-semibold",outline:"border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-700 font-medium",ghost:"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100 font-medium",destructive:"bg-red-600 dark:bg-red-500 text-white hover:bg-red-700 dark:hover:bg-red-600 font-semibold"}[t]," ").concat({default:"h-10 py-2 px-4 text-sm",sm:"h-9 px-3 text-sm",lg:"h-11 px-8 text-base",icon:"h-10 w-10"}[a]," ").concat(l),disabled:n,...i,children:r})}},794:function(e,r,t){"use strict";t.d(r,{Ol:function(){return CardHeader},Zb:function(){return Card},aY:function(){return CardContent},ll:function(){return CardTitle}});var s=t(5893);t(7294);let Card=e=>{let{children:r,className:t="",...a}=e;return(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm text-gray-900 dark:text-white transition-colors ".concat(t),...a,children:r})},CardHeader=e=>{let{children:r,className:t="",...a}=e;return(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 ".concat(t),...a,children:r})},CardTitle=e=>{let{children:r,className:t="",...a}=e;return(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white ".concat(t),...a,children:r})},CardContent=e=>{let{children:r,className:t="",...a}=e;return(0,s.jsx)("div",{className:"px-6 py-4 text-gray-900 dark:text-white ".concat(t),...a,children:r})}},6522:function(e,r,t){"use strict";t.d(r,{I:function(){return Input}});var s=t(5893);t(7294);let Input=e=>{let{className:r="",type:t="text",disabled:a=!1,...l}=e;return(0,s.jsx)("input",{type:t,className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ".concat(r),disabled:a,...l})}},2313:function(e,r,t){"use strict";t.d(r,{_:function(){return Label}});var s=t(5893);t(7294);let Label=e=>{let{children:r,className:t="",htmlFor:a,...l}=e;return(0,s.jsx)("label",{htmlFor:a,className:"".concat("text-sm font-medium text-gray-700 dark:text-gray-300 leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"," ").concat(t),...l,children:r})}},6917:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return UsersPage}});var s=t(5893),a=t(7016),l=t(7294),n=t(794),d=t(4491),i=t(3777),c=t(6522),o=t(2313),x=t(8680),u=t(8357),m=t(1113),g=t(8974),h=t(6249),b=t(2940),components_UserManager=()=>{let{user:e,userRoles:r,checkPermission:t}=(0,a.aC)(),[f,j]=(0,l.useState)(null),[p,v]=(0,l.useState)(!1),[y,N]=(0,l.useState)({username:"",name:"",role:"consultant",permissions:["read"]}),handleDeleteUser=e=>{confirm("Tem certeza que deseja excluir o usu\xe1rio ".concat(e,"?"))&&console.log("Usu\xe1rio exclu\xeddo:",e)},handleEditUser=e=>{j(e)},k=t("manage_users");return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-2 sm:space-y-0",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"\uD83D\uDC65 Gerenciamento de Usu\xe1rios"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Controle de acesso e permiss\xf5es do sistema"})]}),k&&(0,s.jsxs)(d.z,{onClick:()=>v(!0),className:"bg-blue-600 hover:bg-blue-700",children:[(0,s.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Adicionar Usu\xe1rio"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsx)(n.Zb,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:(0,s.jsx)(n.aY,{className:"pt-4",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:Object.keys(r).length}),(0,s.jsx)("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Total de Usu\xe1rios"})]})})}),(0,s.jsx)(n.Zb,{className:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",children:(0,s.jsx)(n.aY,{className:"pt-4",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:Object.values(r).filter(e=>"developer"===e.role).length}),(0,s.jsx)("div",{className:"text-sm text-green-800 dark:text-green-200",children:"Desenvolvedores"})]})})}),(0,s.jsx)(n.Zb,{className:"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800",children:(0,s.jsx)(n.aY,{className:"pt-4",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:Object.values(r).filter(e=>"consultant"===e.role).length}),(0,s.jsx)("div",{className:"text-sm text-purple-800 dark:text-purple-200",children:"Consultores"})]})})}),(0,s.jsx)(n.Zb,{className:"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800",children:(0,s.jsx)(n.aY,{className:"pt-4",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:(null==e?void 0:e.name)||"N/A"}),(0,s.jsx)("div",{className:"text-sm text-orange-800 dark:text-orange-200",children:"Usu\xe1rio Atual"})]})})})]}),(0,s.jsxs)(n.Zb,{children:[(0,s.jsx)(n.Ol,{children:(0,s.jsxs)(n.ll,{className:"flex items-center",children:[(0,s.jsx)(u.Z,{className:"h-5 w-5 mr-2"}),"Usu\xe1rios do Sistema"]})}),(0,s.jsx)(n.aY,{children:(0,s.jsx)("div",{className:"space-y-3",children:Object.entries(r).map(e=>{let[r,t]=e;return(0,s.jsxs)("div",{className:"p-4 rounded-lg border cursor-pointer transition-colors ".concat(f===r?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),onClick:()=>j(f===r?null:r),children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:(0,s.jsx)(m.Z,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:t.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["@",r]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:t.description})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(i.C,{variant:"developer"===t.role?"default":"secondary",className:"text-xs",children:"developer"===t.role?"Desenvolvedor":"Consultor"}),k&&"Zeca"!==r&&(0,s.jsxs)("div",{className:"flex space-x-1",children:[(0,s.jsx)(d.z,{variant:"outline",size:"sm",onClick:e=>{e.stopPropagation(),handleEditUser(r)},className:"h-6 w-6 p-0",children:(0,s.jsx)(g.Z,{className:"h-3 w-3"})}),(0,s.jsx)(d.z,{variant:"outline",size:"sm",onClick:e=>{e.stopPropagation(),handleDeleteUser(r)},className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:(0,s.jsx)(h.Z,{className:"h-3 w-3"})})]})]})]}),f===r&&(0,s.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Permiss\xf5es:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:t.permissions.map(e=>(0,s.jsx)(i.C,{variant:"outline",className:"text-xs",children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-sm text-gray-700 dark:text-gray-300 mb-2",children:"A\xe7\xf5es:"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)(d.z,{size:"sm",variant:"outline",children:[(0,s.jsx)(b.Z,{className:"h-3 w-3 mr-1"}),"Ver Detalhes"]}),k&&(0,s.jsxs)(d.z,{size:"sm",variant:"outline",children:[(0,s.jsx)(g.Z,{className:"h-3 w-3 mr-1"}),"Editar"]})]})]})]})})]},r)})})})]}),p&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)(n.Zb,{className:"w-full max-w-md mx-4",children:[(0,s.jsx)(n.Ol,{children:(0,s.jsx)(n.ll,{children:"Adicionar Novo Usu\xe1rio"})}),(0,s.jsxs)(n.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(o._,{htmlFor:"username",children:"Nome de Usu\xe1rio"}),(0,s.jsx)(c.I,{id:"username",value:y.username,onChange:e=>N({...y,username:e.target.value}),placeholder:"ex: joao"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o._,{htmlFor:"name",children:"Nome Completo"}),(0,s.jsx)(c.I,{id:"name",value:y.name,onChange:e=>N({...y,name:e.target.value}),placeholder:"Luciano Abramo Ciambelli"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o._,{htmlFor:"role",children:"Fun\xe7\xe3o"}),(0,s.jsxs)("select",{id:"role",value:y.role,onChange:e=>N({...y,role:e.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800",children:[(0,s.jsx)("option",{value:"consultant",children:"Consultor"}),(0,s.jsx)("option",{value:"developer",children:"Desenvolvedor"})]})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(d.z,{onClick:()=>{y.username&&y.name&&(console.log("Novo usu\xe1rio:",y),v(!1),N({username:"",name:"",role:"consultant",permissions:["read"]}))},className:"flex-1",children:"Adicionar"}),(0,s.jsx)(d.z,{variant:"outline",onClick:()=>v(!1),className:"flex-1",children:"Cancelar"})]})]})]})})]})},f=t(2342),j=t(1163);function UsersPage(){let{user:e,checkPermission:r}=(0,a.aC)(),t=(0,j.useRouter)();return((0,l.useEffect)(()=>{if(!e){t.push("/login");return}if(!r("manage_users")){t.push("/");return}},[e,r,t]),e&&r("manage_users"))?(0,s.jsx)(f.Z,{children:(0,s.jsx)(components_UserManager,{})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDD12"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Acesso Negado"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Voc\xea n\xe3o tem permiss\xe3o para acessar esta p\xe1gina."})]})})}},8357:function(e,r,t){"use strict";var s=t(7294);function UserGroupIcon({title:e,titleId:r,...t},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),e?s.createElement("title",{id:r},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}let a=s.forwardRef(UserGroupIcon);r.Z=a}},function(e){e.O(0,[869,366,577,342,774,888,179],function(){return e(e.s=7476)}),_N_E=e.O()}]);