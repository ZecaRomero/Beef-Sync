(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{1118:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return t(9470)}])},9470:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return _app}});var o=t(5893);t(415);var a=t(7294);let s=(0,a.createContext)(),ThemeProvider=e=>{let{children:r}=e,[t,n]=(0,a.useState)("light");return(0,a.useEffect)(()=>{let e=localStorage.getItem("theme");if(e)n(e);else{let e=window.matchMedia("(prefers-color-scheme: dark)").matches;n(e?"dark":"light")}},[]),(0,a.useEffect)(()=>{"dark"===t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",t)},[t]),(0,o.jsx)(s.Provider,{value:{theme:t,setTheme:n,toggleTheme:()=>{n(e=>"light"===e?"dark":"light")},isDark:"dark"===t},children:r})},n=(0,a.createContext)(),AuthProvider=e=>{let{children:r}=e,[t,s]=(0,a.useState)(null),[l,i]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=localStorage.getItem("user"),r=localStorage.getItem("token");if(e&&r)try{let r=JSON.parse(e);s(r),d(!0)}catch(e){console.error("Erro ao carregar dados do usu\xe1rio:",e),localStorage.removeItem("user"),localStorage.removeItem("token")}i(!1)},[]);let login=async(e,r)=>{try{i(!0);let r={id:1,name:"Usu\xe1rio Demo",email:e,role:"admin"},t="demo-token-"+Date.now();return localStorage.setItem("user",JSON.stringify(r)),localStorage.setItem("token",t),s(r),d(!0),{success:!0,user:r}}catch(e){return console.error("Erro no login:",e),{success:!1,error:e.message}}finally{i(!1)}};return(0,o.jsx)(n.Provider,{value:{user:t,loading:l,isAuthenticated:c,login,logout:()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),s(null),d(!1)},updateUser:e=>{let r={...t,...e};s(r),localStorage.setItem("user",JSON.stringify(r))}},children:r})},l=(0,a.createContext)(),ToastProvider=e=>{let{children:r}=e,[t,s]=(0,a.useState)([]),addToast=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,o=Date.now(),a={id:o,message:e,type:r,duration:t};return s(e=>[...e,a]),t>0&&setTimeout(()=>{removeToast(o)},t),o},removeToast=e=>{s(r=>r.filter(r=>r.id!==e))};return(0,o.jsxs)(l.Provider,{value:{toasts:t,addToast,removeToast,success:(e,r)=>addToast(e,"success",r),error:(e,r)=>addToast(e,"error",r),warning:(e,r)=>addToast(e,"warning",r),info:(e,r)=>addToast(e,"info",r)},children:[r,(0,o.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(e=>(0,o.jsx)("div",{className:"px-4 py-3 rounded-lg shadow-lg max-w-sm ".concat("success"===e.type?"bg-green-500 text-white":"error"===e.type?"bg-red-500 text-white":"warning"===e.type?"bg-yellow-500 text-white":"bg-blue-500 text-white"),children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("span",{children:e.message}),(0,o.jsx)("button",{onClick:()=>removeToast(e.id),className:"ml-2 text-white hover:text-gray-200",children:"\xd7"})]})},e.id))})]})};let ErrorBoundary=class ErrorBoundary extends a.Component{static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r),this.setState({error:e,errorInfo:r})}render(){return this.state.hasError?(0,o.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,o.jsxs)("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[(0,o.jsx)("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 dark:bg-red-900/20 rounded-full mb-4",children:(0,o.jsx)("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,o.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white text-center mb-2",children:"Oops! Algo deu errado"}),(0,o.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-center mb-6",children:"Ocorreu um erro inesperado. Nossa equipe foi notificada e est\xe1 trabalhando para resolver o problema."}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Recarregar P\xe1gina"}),(0,o.jsx)("button",{onClick:()=>this.setState({hasError:!1,error:null,errorInfo:null}),className:"w-full px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Tentar Novamente"})]}),!1]})}):this.props.children}constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}};var _app=function(e){let{Component:r,pageProps:t}=e;return(0,o.jsx)(ErrorBoundary,{children:(0,o.jsx)(ThemeProvider,{children:(0,o.jsx)(AuthProvider,{children:(0,o.jsx)(ToastProvider,{children:(0,o.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,o.jsx)(r,{...t})})})})})})}},415:function(){}},function(e){var __webpack_exec__=function(r){return e(e.s=r)};e.O(0,[774,179],function(){return __webpack_exec__(1118),__webpack_exec__(9974)}),_N_E=e.O()}]);